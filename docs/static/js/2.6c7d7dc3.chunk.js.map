{"version":3,"sources":["pages/series/DetailPage.tsx","hocs/series/DetailHoc.tsx"],"names":["SeriesDetail","_super","props","_this","call","this","state","currentSeries","__WEBPACK_IMPORTED_MODULE_0_tslib__","prototype","componentDidUpdate","prevProps","Object","__WEBPACK_IMPORTED_MODULE_10_lodash__","match","params","getData","componentDidMount","name","__WEBPACK_IMPORTED_MODULE_11__music_services_gaService__","pageView","render","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_4__layouts_Sidebar__","__WEBPACK_IMPORTED_MODULE_5_semantic_ui_react__","style","height","className","as","mixes","__WEBPACK_IMPORTED_MODULE_9__music_components_MixBox__","data","slice","cb","__WEBPACK_IMPORTED_MODULE_8__music_utils__","currentSeries_1","series","find","__WEBPACK_IMPORTED_MODULE_12__music_entities_mix__","getMixesBySeries","id","then","setState","catch","console","error","SeriesDetailPage","__WEBPACK_IMPORTED_MODULE_2_react_redux__","__WEBPACK_IMPORTED_MODULE_7__music_extensions_entity_collection__","__WEBPACK_IMPORTED_MODULE_3_react_router_dom__","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_6__music_hocs_series_DetailHoc__","WrappedComponent","class_1","collections","isFetching"],"mappings":"yOAuBAA,EAAA,SAAAC,GAKE,SAAAD,EAAYE,GAAZ,IAAAC,EACEF,EAAAG,KAAAC,KAAMH,IAAMG,YALPF,EAAAG,OACLC,oBA0CJ,OA5C2BC,EAAA,EAAAR,EAAAC,GASlBD,EAAAS,UAAAC,mBAAP,SAA0BC,GAClBC,OAAAC,EAAA,QAAAD,CAAQP,KAAKH,MAAMY,MAAMC,OAAQJ,EAAUG,MAAMC,SACrDV,KAAKW,WAIFhB,EAAAS,UAAAQ,kBAAP,WACEZ,KAAKW,QAAQ,SAACE,GAAS,OAAAC,EAAA,EAAUC,SAAS,kBAAkBF,MAGvDlB,EAAAS,UAAAY,OAAP,WACE,OACEC,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACC,EAAA,EAAgB,KACfD,EAAA,cAACE,EAAA,GAAQC,OAAQC,OAAQ,QAASC,UAAU,uBAC1CL,EAAA,cAACE,EAAA,GAAOI,GAAG,MAAMvB,KAAKC,MAAMC,cAAcW,MACzCb,KAAKC,MAAMuB,OACVP,EAAA,cAACQ,EAAA,GAAOC,KAAU1B,KAAKC,MAAMuB,MAAKG,cAQtChC,EAAAS,UAAAO,QAAR,SAAgBiB,GAAhB,IAAA9B,EAAAE,KACE,QADc,IAAA4B,MAAA,WAAmC,cAC7CrB,OAAAsB,EAAA,EAAAtB,CAAI,OAAQP,KAAKH,MAAMY,MAAMC,QAAS,CAChC,IAAAG,EAAAb,KAAAH,MAAAY,MAAAC,OAAAG,KACFiB,EAAgB9B,KAAKH,MAAMkC,OAAOC,KAAKnB,EAAM,SAEnD,IAAKoB,EAAA,GAAWC,iBAAiBJ,EAAcK,GAAI,EAAG,IAAIC,KAAK,SAACZ,GAC9D1B,EAAKuC,UAAWb,MAAKA,EAAEtB,cAAa4B,GAAI,WAAM,OAAAF,EAAGE,EAAcjB,UAC9DyB,MAAMC,QAAQC,SAGvB7C,EA5CA,CAA2BsB,EAAA,WA4DrBwB,EAAmBlC,OAAAmC,EAAA,EAAAnC,CAND,SAACN,GACvB,OACE8B,OAAQ,IAAIY,EAAA,EAAiB1C,EAAM8B,OAAOL,QAIrBnB,CAAyBA,OAAAqC,EAAA,EAAArC,CAAWZ,IAE9CkD,EAAA,QAAAtC,OAAAuC,EAAA,GAAgBL,0CCnFhB,SAAyBM,GACtC,gBAAAnD,GACE,SAAAoD,EAAYnD,GAAZ,IAAAC,EACEF,EAAAG,KAAAC,KAAMH,IAAMG,YACZF,EAAKG,OACHgD,eACAC,YAAY,KAalB,OAlBqB/C,EAAA,EAAA6C,EAAApD,GASNoD,EAAA5C,UAAAQ,kBAAb,+FAIOoC,EAAA5C,UAAAY,OAAP,WACE,OACEC,EAAA,cAAC8B,EAAgB,OAGvBC,EAlBA,CAAqB/B,EAAA","file":"static/js/2.6c7d7dc3.chunk.js","sourcesContent":["import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport SidebarComponent from '../../layouts/Sidebar';\nimport { Segment, Header } from 'semantic-ui-react';\nimport SeriesDetailHoc from '@music/hocs/series/DetailHoc';\nimport { IState, ISeries, IMix } from '@music/interfaces';\nimport EntityCollection from '@music/extensions/entity-collection';\nimport { has } from '@music/utils';\nimport MixBox from '@music/components/MixBox';\nimport { isEqual } from 'lodash';\nimport gaService from '@music/_services/gaService';\nimport MixEntity from '@music/entities/mix';\n\ninterface ISeriesState {\n  currentSeries: ISeries;\n  mixes?: IMix[];\n}\n\ntype ISeriesDetailProps = RouteComponentProps & {\n  series: EntityCollection;\n}\n\nclass SeriesDetail extends React.Component<ISeriesDetailProps, any> {\n  public state: Readonly<ISeriesState> = {\n    currentSeries: {} as ISeries,\n  };\n\n  constructor(props: ISeriesDetailProps) {\n    super(props);\n  }\n\n  public componentDidUpdate(prevProps: ISeriesDetailProps) {\n    if (! isEqual(this.props.match.params, prevProps.match.params)) {\n      this.getData();\n    }\n  }\n\n  public componentDidMount() {\n    this.getData((name) => gaService.pageView(`Series Detail: ${name}`));\n  }\n\n  public render() {\n    return (\n      <>\n        <SidebarComponent>\n          <Segment style={{height: 'auto'}} className=\"toptracks-container\">\n            <Header as='h1'>{this.state.currentSeries.name}</Header>\n            {this.state.mixes &&\n              <MixBox data={[...this.state.mixes]} />\n            }\n          </Segment>\n        </SidebarComponent>\n      </>\n    );\n  }\n\n  private getData(cb: (title: string) => any = () => null) {\n    if (has('name', this.props.match.params)) {\n      const { name } = this.props.match.params as any;\n      const currentSeries = this.props.series.find(name, 'slug') as ISeries;\n\n      (new MixEntity).getMixesBySeries(currentSeries.id, 0, 20).then((mixes: IMix[]) => {\n        this.setState({ mixes, currentSeries }, () => cb(currentSeries.name));\n      }).catch(console.error);\n    }\n  }\n}\n\n// const mapDispatchToProps = (dispatch: CallableFunction) => {\n//   return {\n//     closeModal: (domain: string) => dispatch(closeModalAction(domain)),\n//     saveFormData: (data: IAdvertisementFormData) => dispatch(saveAdFormData(data)),\n//     setNextStep: (step: string) => dispatch(setNextStepAction(step)),\n//   }\n// };\n\nconst mapStateToProps = (state: IState) => {\n  return {\n    series: new EntityCollection(state.series.data),\n  }\n};\n\nconst SeriesDetailPage = connect(mapStateToProps)(withRouter(SeriesDetail));\n\nexport default SeriesDetailHoc(SeriesDetailPage);\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/series/DetailPage.tsx","import * as React from 'react';\n\nexport default function SeriesDetailHoc(WrappedComponent: any) {\n  return class extends React.Component<any, any> {\n    constructor(props: any) {\n      super(props);\n      this.state = {\n        collections: {},\n        isFetching: true,\n      };\n    }\n\n    public async componentDidMount() {\n\n    }\n\n    public render() {\n      return (\n        <WrappedComponent />\n      );\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hocs/series/DetailHoc.tsx"],"sourceRoot":""}