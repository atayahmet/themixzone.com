(this["webpackJsonptmz-core"]=this["webpackJsonptmz-core"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n(17),i=n(10),c=n(0),o=n.n(c),u=n(57),l=n(321),s=n(86),d=n(218),m=n(163),f=n(28),p=n(8),v=n(44),b=Object(f.b)("AUTH").LOGIN_MODAL;t.default=function(e){var t=e.open,n=void 0!==t&&t,f=e.close,g=void 0===f?function(){return null}:f,h=Object(p.c)(),E=Object(c.useContext)(v.a).openRegisterModal,O=Object(p.d)((function(e){return e.auth})).user,j=Object(p.d)((function(e){return e.login||{}})),y=j.success,w=j.error,x=j.pending,N=Object(c.useState)({email:"",password:""}),S=Object(i.a)(N,2),k=S[0],A=S[1],C=Object(c.useState)(""),I=Object(i.a)(C,2),P=I[0],R=I[1],T=function(e){var t=e.target,n=t.name,i=t.value;A(Object(r.a)({},k,Object(a.a)({},n,i)))},M=function(){g(),R(""),A({email:"",password:""})};Object(c.useEffect)((function(){O&&g()}),[O,g]),Object(c.useEffect)((function(){w&&R(w)}),[x,y,w]);var L=k.email,U=k.password;return o.a.createElement(u.a,{className:"login-modal",size:"mini",open:n,dimmer:"blurring",onClose:M,closeOnEscape:!0,closeOnDimmerClick:!0,closeIcon:!0},o.a.createElement(u.a.Header,{as:"h1"},b.HEADER,"!"),o.a.createElement(u.a.Content,null,P&&o.a.createElement(l.a,{color:"brown"},P),o.a.createElement(s.a,{autoComplete:"off"},o.a.createElement(s.a.Input,{autoComplete:"off",name:"email",size:"large",fluid:!0,label:"Email",value:L,onChange:T,placeholder:"Email",className:"auth-input\n              ".concat(L?"":"empty","\n              ").concat(P&&!L?"auth-input-error":"")}),o.a.createElement(s.a.Input,{autoComplete:"off",name:"password",type:"password",size:"large",fluid:!0,label:"Password",value:U,onChange:T,placeholder:"Password",className:"auth-input\n              ".concat(U?"":"empty","\n              ").concat(P&&!U?"auth-input-error":"","\n            ")}),o.a.createElement(s.a.Checkbox,{label:b.REMEMBER_TEXT}))),o.a.createElement(u.a.Actions,null,o.a.createElement(d.a,{positive:!0,size:"big",onClick:function(){var e=Object.keys(k).every((function(e){return!!k[e]}));R(e?"":b.FORM_EMPTY_ERROR),e&&h(Object(m.b)(k))},disabled:x,content:b.BUTTON_TITLE}),o.a.createElement("div",{className:"login-actions-item"},b.REGISTER_QUESTION_TEXT,"?"," ",o.a.createElement("a",{onClick:function(){M(),E()},href:"#/"},b.REGISTER_ACTION_TEXT))))}},102:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n(17),i=n(10),c=n(0),o=n.n(c),u=n(57),l=n(321),s=n(86),d=n(218),m=n(165),f=n(28),p=n(8),v=n(44),b=Object(f.b)("AUTH").REGISTER_MODAL,g=b.HEADER,h=b.DEFAULT_SUBJECT,E=b.FORM_EMPTY_ERROR,O=b.LOGIN_QUESTION_TEXT,j=b.LOGIN_ACTION_TEXT;t.default=function(e){var t=e.open,n=void 0!==t&&t,f=e.close,b=Object(p.c)(),y=Object(p.d)((function(e){return e.auth})).user,w=Object(p.d)((function(e){return e.register})),x=w.success,N=w.error,S=w.pending,k=Object(c.useState)({name:"",email:"",password:""}),A=Object(i.a)(k,2),C=A[0],I=A[1],P=Object(c.useState)(""),R=Object(i.a)(P,2),T=R[0],M=R[1],L=Object(c.useState)(h),U=Object(i.a)(L,2),D=U[0],F=U[1],_=function(e){var t=e.target,n=t.name,i=t.value;I(Object(r.a)({},C,Object(a.a)({},n,i)))},z=function(){f(),M(""),F(h),I({name:"",email:"",password:""})};Object(c.useEffect)((function(){y&&f()}),[y,f]),Object(c.useEffect)((function(){N&&M(N)}),[x,S,N]);var H=C.name,W=C.email,G=C.password,V=Object(c.useContext)(v.a).openLoginModal;return o.a.createElement(u.a,{className:"login-modal",size:"mini",open:n,dimmer:"blurring",onClose:z,closeOnEscape:!0,closeOnDimmerClick:!0,closeIcon:!0},o.a.createElement(u.a.Header,{as:"h1"},g.replace("{0}",D),"!"),o.a.createElement(u.a.Content,null,T&&o.a.createElement(l.a,{color:"brown"},T),o.a.createElement(s.a,{autoComplete:"off"},o.a.createElement(s.a.Input,{autoComplete:"off",name:"name",size:"large",fluid:!0,label:"Name",value:H,onChange:_,onBlur:function(){return F(H||h)},placeholder:"Name",className:"auth-input\n              ".concat(H?"":"empty","\n              ").concat(T&&!H?"auth-input-error":"")}),o.a.createElement(s.a.Input,{autoComplete:"off",name:"email",size:"large",fluid:!0,label:"Email",value:W,onChange:_,placeholder:"Email",className:"auth-input\n              ".concat(W?"":"empty","\n              ").concat(T&&!W?"auth-input-error":"")}),o.a.createElement(s.a.Input,{autoComplete:"off",name:"password",type:"password",size:"large",fluid:!0,label:"Password",value:G,onChange:_,placeholder:"Password",className:"auth-input\n              ".concat(G?"":"empty","\n              ").concat(T&&!G?"auth-input-error":"","\n            ")}))),o.a.createElement(u.a.Actions,null,o.a.createElement(d.a,{positive:!0,content:"Register",size:"big",onClick:function(){var e=Object.keys(C).every((function(e){return!!C[e]}));M(e?"":E),e&&b(Object(m.b)(Object(r.a)({},C,{sendVerifyEmail:!0})))}}),o.a.createElement("div",{className:"login-actions-item"},O,"?"," ",o.a.createElement("a",{onClick:function(){z(),V()},href:"#/"},j))))}},108:function(e,t,n){e.exports=n.p+"static/media/logo.2a9450b5.svg"},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return h}));var a=n(9),r=n.n(a),i=n(22),c=n(18),o=n(24),u=n(66),l=n(60),s={pending:!1,email:null},d=Object(c.b)({name:"changeEmail",initialState:s,reducers:{pending:function(e){e.pending=!0,e.success=!1,e.error=null},fulfilled:function(e,t){e.email=t.payload,e.pending=!1,e.success=!0},rejected:function(e,t){e.pending=!1,e.error=t.payload},reset:function(){return s}}}),m=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(v()),a=o.a.auth().currentUser,t.next=5,null===a||void 0===a?void 0:a.updateEmail(e);case 5:return t.next=7,null===a||void 0===a?void 0:a.reload();case 7:return t.next=9,null===a||void 0===a?void 0:a.sendEmailVerification();case 9:i=o.a.currentUser,n(Object(u.c)(i)),n(Object(l.c)(i)),n(b(i.email)),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),t.t0.code,c=t.t0.message,n(g(c));case 20:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},f=d.actions,p=d.reducer,v=f.pending,b=f.fulfilled,g=f.rejected,h=f.reset;t.b=p},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return b}));var a=n(9),r=n.n(a),i=n(22),c=n(18),o=n(24),u={pending:!1},l=Object(c.b)({name:"changePassword",initialState:u,reducers:{pending:function(e){e.pending=!0,e.success=!1,e.error=null},fulfilled:function(e){e.pending=!1,e.success=!0},rejected:function(e,t){e.pending=!1,e.error=t.payload},reset:function(){return u}}}),s=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(f()),a=o.a.auth().currentUser,t.next=5,null===a||void 0===a?void 0:a.updatePassword(e);case 5:return t.next=7,null===a||void 0===a?void 0:a.reload();case 7:n(p()),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.code,i=t.t0.message,n(v(i));case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},d=l.actions,m=l.reducer,f=d.pending,p=d.fulfilled,v=d.rejected,b=d.reset;t.b=m},112:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l}));var a=n(18),r=Object(a.b)({name:"series",initialState:{pending:!1,loaded:!1,error:null,series:[]},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e,t){e.series=t.payload,e.pending=!1,e.loaded=!0},rejected:function(e,t){e.error=t.payload,e.pending=!1}}}),i=r.actions,c=r.reducer,o=i.pending,u=i.fulfilled,l=i.rejected;t.a=c},113:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return E}));var a,r=n(34),i=n(18),c=n(28),o=Object(c.a)("HISTORY"),u=o.storageKey,l=o.lastMixStorageKey,s=JSON.parse(sessionStorage.getItem(u)||"[]"),d=parseInt(null!==(a=sessionStorage.getItem(l))&&void 0!==a?a:""),m=s.length,f={history:s,length:m,pointer:isNaN(d)?m>0?m-1:null:d},p=Object(i.b)({name:"playerHistory",initialState:f,reducers:{push:function(e,t){var n=e.history,a=e.pointer,i=t.payload;if(null===a||n[a].id!==i.id){var c=n.slice(0,(null!==a&&void 0!==a?a:0)+1);e.pointer=c.length,e.history=[].concat(Object(r.a)(c),[i]),e.length=c.length+1}},forward:function(e){var t=e.history,n=e.pointer,a=null!==n?n+1:0;return{length:e.length,history:t,pointer:t[a]?a:n}},back:function(e){var t=e.history,n=e.pointer,a=null!==n?n-1:0;return{length:e.length,history:t,pointer:t[a]?a:n}}}}),v=p.actions,b=p.reducer,g=v.push,h=v.forward,E=v.back;t.b=b},131:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var a=n(18),r={isEmpty:!0,cases:[]},i=Object(a.b)({name:"screenIndicator",initialState:r,reducers:{insert:function(e,t){e.cases.push(t.payload),e.isEmpty=!1},remove:function(e,t){var n=t.payload,a=e.cases.filter((function(e){return e.name!==n}));e.cases=a,e.isEmpty=!a.length},reset:function(){return r}}}),c=i.actions,o=i.reducer,u=c.insert,l=c.remove;c.reset;t.a=o},158:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(57);t.default=function(e){var t=e.visibility,n=e.close,a=e.name;return r.a.createElement(i.a,{open:t,className:"login-modal",size:"mini",dimmer:"blurring",closeOnEscape:!0,closeOnDimmerClick:!0,closeIcon:!0,onClose:n},r.a.createElement(i.a.Header,{as:"h1"},"Test Modal!"),r.a.createElement(i.a.Content,null),r.a.createElement(i.a.Actions,null,a," Actions!"))}},163:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(9),r=n.n(a),i=n(22),c=n(18),o=n(24),u=n(94),l=Object(c.b)({name:"login",initialState:{pending:!1},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e){e.pending=!1,e.success=!0},rejected:function(e,t){var n=t.payload.message;e.error=n,e.pending=!1,e.success=!1}}}),s=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,c,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(f()),t.next=4,o.a.persistentce();case 4:return a=e.email,i=e.password,t.next=7,o.a.login(a,i);case 7:c=t.sent,l=c.user,n(p()),l&&Object(u.b)(l.uid)(n),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n(v(t.t0.toJSON()));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},d=l.actions,m=l.reducer,f=d.pending,p=d.fulfilled,v=d.rejected;t.a=m},164:function(e,t,n){"use strict";var a=n(17),r=n(26);t.a=new function e(){var t=this;Object(r.a)(this,e),this.container=new Map,this.add=function(e,n){var r=t.container.get("key");r?r&&!r.singleton&&t.container.set(e,Object(a.a)({},r,{value:n})):t.container.set(e,{key:e,value:n})},this.get=function(e,n){var a=t.container.get(e);return a&&a.value||n},this.singleton=function(e,n){t.has(e)||t.container.set(e,{key:e,value:n,singleton:!0})},this.has=function(e){return t.container.has(e)},this.remove=function(e){return t.container.delete(e)}}},165:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(9),r=n.n(a),i=n(22),c=n(18),o=n(24),u=Object(c.b)({name:"register",initialState:{pending:!1},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e){e.pending=!1,e.success=!0},rejected:function(e,t){var n=t.payload.message;e.error=n,e.pending=!1,e.success=!1}}}),l=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(m()),t.next=4,o.a.register(e);case 4:n(f()),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a=t.t0.code,i=t.t0.message,n(p({code:a,message:i}));case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},s=u.actions,d=u.reducer,m=s.pending,f=s.fulfilled,p=s.rejected;t.a=d},166:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(9),r=n.n(a),i=n(22),c=n(18),o=n(24),u={pending:!1},l=Object(c.b)({name:"logout",initialState:u,reducers:{pending:function(e){e.pending=!0},fulfilled:function(){return u},rejected:function(e,t){e.pending=!1}}}),s=function(){return function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(f()),e.next=4,o.a.logout();case 4:t(p()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(v(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},d=l.actions,m=l.reducer,f=d.pending,p=d.fulfilled,v=d.rejected;t.a=m},167:function(e,t,n){"use strict";t.a={pending:function(e){e.pending=!0},normalized:function(e,t){e.mixes=t.payload,e.normalized=!0},fulfilled:function(e,t){e.mixes=t.payload,e.pending=!1,e.loaded=!0,e.normalized=!1},rejected:function(e,t){e.error=t.payload,e.pending=!1}}},170:function(e,t,n){e.exports=n.p+"static/media/bars.ca49bba4.svg"},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(9),r=n.n(a),i=n(22),c=n(26),o=n(33),u=n(62),l=(n(437),n(439),n(47).a.FIREBASE.config),s=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"init",value:function(){u.initializeApp(l)}},{key:"persistentce",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.auth().setPersistence(u.auth.Auth.Persistence.LOCAL);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(i.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.auth().signInWithEmailAndPassword(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"register",value:function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,c,o,l,s,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.name,i=n.email,c=n.password,o=n.sendVerifyEmail,l=void 0!==o&&o,t.next=3,u.auth().createUserWithEmailAndPassword(i,c);case 3:if(s=t.sent,d=e.auth().currentUser,t.t0=d,!t.t0){t.next=9;break}return t.next=9,d.updateProfile({displayName:a});case 9:return d&&l&&d.sendEmailVerification(),t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.auth().signOut());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"auth",value:function(){return u.auth()}},{key:"currentUser",get:function(){return JSON.parse(JSON.stringify(e.auth().currentUser))}},{key:"db",get:function(){return u.firestore()}}]),e}()},28:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a={APP:{NAME:"Mix Zone"},AUTH:{LOGIN_MODAL:{HEADER:"Welcome, friend",FORM_EMPTY_ERROR:"Please enter the form completely",BUTTON_TITLE:"Login",REGISTER_QUESTION_TEXT:"Not a member yet",REGISTER_ACTION_TEXT:"Register",REMEMBER_TEXT:"Remember Me"},REGISTER_MODAL:{DEFAULT_SUBJECT:"friend",FORM_EMPTY_ERROR:"Please enter the form completely",HEADER:"Welcome, {0}",LOGIN_ACTION_TEXT:"Login",LOGIN_QUESTION_TEXT:"Do you already have an account"}},USER:{FAVOURITES:{ADDED:"The mix added to your favourites successfully.",REMOVED:"The mix removed from your favourites."}},ACCOUNT:{PROFILE:{SUCCESS:"Your profile updated successfully."},CHANGE_EMAIL:{SUCCESS:"You can complete this process by clicking the verification link in your email address."},CHANGE_PASSWORD:{SUCCESS:"Your password changed successfully"}},PLAYLIST:{ACTIONS:{ADD_TO_FAVOURITES:"Add to favorites",REMOVE_FROM_FAVOURITES:"Remove from favorites"}},MAIN_PLAYER:{ACTIONS:{ADD_TO_FAVOURITES:"Add to favorites",REMOVE_FROM_FAVOURITES:"Remove from favorites"}}},r=n(47),i=function(e){return a[e]},c=function(e){return r.a[e]}},317:function(e,t,n){e.exports=n.p+"static/media/heart.0f0a056e.svg"},332:function(e,t,n){e.exports=n(530)},337:function(e,t,n){},40:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return h}));var a=n(17),r=n(18),i=function(e){return{loadNextPart:function(e,t){e.partNumber=t.payload,e.isLoading=!0,e.isLoaded=!1,e.isPlaying=!1}}},c={currentMix:null,isSilent:!1,isPlaying:!1,isPaused:!1,isVisible:!0,isLoading:!1,isLoaded:!1,hasError:!1},o=Object(r.b)({name:"mainPlayer",initialState:c,reducers:Object(a.a)({loadSilent:function(e,t){return Object(a.a)({},c,{currentMix:t.payload,isLoaded:!1,hasError:!1,isSilent:!0})},loadStart:function(e,t){return Object(a.a)({},c,{currentMix:t.payload,isLoading:!0,isLoaded:!1,isPlaying:!1,hasError:!1,isSilent:!1,partNumber:1})},loadError:function(e){e.isPlaying=!1,e.isLoading=!1,e.hasError=!0},dataLoaded:function(e){e.isLoading=!1,e.isLoaded=!0,e.hasError=!1},play:function(e){e.isPlaying=!1,e.isLoading=!1,e.isSilent=!1},playing:function(e){e.isPlaying=!0,e.isLoading=!1,e.isLoaded=!0,e.isPaused=!1,e.isSilent=!1},waiting:function(e){e.isLoading=!0,e.isLoaded=!1,e.isPlaying=!1},paused:function(e){e.isPlaying=!1,e.isPaused=!0},visibility:function(e,t){e.isVisible=t.payload}},i(c))}),u=o.actions,l=o.reducer,s=u.paused,d=u.playing,m=u.loadStart,f=u.loadSilent,p=u.loadNextPart,v=u.loadError,b=u.dataLoaded,g=u.play,h=u.waiting;t.b=l},42:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return d}));var a=n(18),r=n(81),i=Object(a.b)({name:"artistDetail",initialState:{pending:!1,loaded:!1,error:null,lastPartCount:0,mixes:[]},reducers:r.a}),c=i.actions,o=i.reducer,u=c.pending,l=c.fulfilled,s=c.fulfilledAppend,d=c.rejected;c.reset;t.a=o},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(10),r=n(45),i=n(0),c=n.n(i),o=n(101),u=n(102),l=n(8),s=n(29),d=Object(i.createContext)({});d.displayName="Authentication Context";var m=function(e){var t=e.children,n=Object(r.a)(e,["children"]),a=Object(l.d)((function(e){return e.auth.user}));return c.a.createElement(s.b,Object.assign({},n,{render:function(){return a?t:c.a.createElement(s.a,{to:"/"})}}))};t.b=function(e){var t=e.children,n=Object(i.useState)(!1),r=Object(a.a)(n,2),l=r[0],s=r[1],f=Object(i.useState)(!1),p=Object(a.a)(f,2),v=p[0],b=p[1],g=function(){return s(!1)},h=function(){return b(!1)};return c.a.createElement(d.Provider,{value:{PrivateRoute:m,openLoginModal:function(){return s(!0)},closeLoginModal:g,openRegisterModal:function(){return b(!0)},closeRegisterModal:h}},c.a.createElement(c.a.Fragment,null,c.a.createElement(o.default,{close:g,open:l}),c.a.createElement(u.default,{close:h,open:v}),t))}},46:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(51),r=n(71),i=function(e,t){return a.a.dispatch(Object(r.b)({title:t,type:"success",content:e}))},c=function(e,t){return a.a.dispatch(Object(r.b)({title:t,type:"error",content:e}))}},47:function(e,t,n){"use strict";t.a={FIREBASE:{config:{apiKey:"AIzaSyBtr1VFAEhT86xGJahM4NUSXKjyAKMtoqk",authDomain:"webplayer-230614.firebaseapp.com",databaseURL:"https://webplayer-230614.firebaseio.com",projectId:"webplayer-230614",storageBucket:"webplayer-230614.appspot.com",messagingSenderId:"357191565883",appId:"1:357191565883:web:cf7f1790240fa86c02521e"}},PAGINATION:{limit:10},HISTORY:{storageKey:"player_history",lastMixStorageKey:"player_history_pointer",secondsStorageKey:"seconds",partStorageKey:"mix_part"}}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c}));var a=function(e,t,n){try{return t(e())}catch(a){return n(a)}},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("http")},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(){return Math.random()-.5}))},c=function(e){return e<10?"0".concat(e):e}},51:function(e,t,n){"use strict";var a,r=n(34),i=n(18),c=n(164),o=n(48),u=n(66),l=n(165),s=n(163),d=n(166),m=n(60),f=n(110),p=n(111),v=n(71),b=n(112),g=n(95),h=n(84),E=n(131),O=n(72),j=n(167),y=Object(i.b)({name:"lastMixesOfArtists",initialState:{pending:!1,loaded:!1,normalized:!1,error:null,mixes:[]},reducers:j.a}),w=y.actions,x=y.reducer,N=(w.pending,w.fulfilled,w.normalized,w.rejected,x),S=n(52),k=n(53),A=n(42),C=n(55),I=n(54),P=n(40),R=n(113),T=Object(o.c)({auth:u.b,register:l.a,login:s.a,logout:d.a,profile:m.a,changeEmail:f.b,changePassword:p.b,toast:v.a,series:b.a,genres:g.a,artists:h.a,screenIndicator:E.a,recentlyAddedMixes:O.a,lastMixesOfArtists:N,seriesDetail:S.a,genreDetail:k.a,artistDetail:A.a,userFavourites:C.d,favouriteList:I.a,mainPlayer:P.b,playerHistory:R.b}),M=n(267),L=n.n(M),U=n(125),D=n(17),F=n(25),_=n(50),z=function(e){return{displayName:e.displayName,email:e.email,photoUrl:e.photoURL,emailVerified:e.emailVerified,uid:e.uid}},H=function(e){return z(e)},W=function(e){return H(e)},G=function(e){return z(e)},V=n(26),B=n(33),$=n(37),Y=n(38),X=n(299),K=n.n(X),J=n(209),q=n.n(J),Q=function(){function e(){Object(V.a)(this,e)}return Object(B.a)(e,[{key:"toObject",value:function(){return q()(this,Object.keys(this))}}]),e}(),Z=function(e){Object(Y.a)(n,e);var t=Object($.a)(n);function n(e){var a,r=e.id,i=e.artistId,c=e.seriesId,o=e.sourceId,u=e.sourceType,l=e.sourceUrl,s=e.trackListId,d=e.count,m=e.createdAt,f=e.image,p=e.duration,v=e.description,b=e.series,g=e.artist,h=e.genres,E=e.mixType,O=e.parts,j=e.tracks;return Object(V.a)(this,n),(a=t.call(this)).id=void 0,a.artistId=void 0,a.seriesId=void 0,a.sourceId=void 0,a.sourceType=void 0,a.sourceUrl=void 0,a.trackListId=void 0,a.count=void 0,a.createdAt=void 0,a.image=void 0,a.duration=void 0,a.description=void 0,a.mixType=void 0,a.series=void 0,a.artist=void 0,a.genres=void 0,a.parts=void 0,a.tracks=void 0,a.id=r,a.artistId=i,a.seriesId=c,a.sourceId=o,a.sourceType=u,a.sourceUrl=l,a.trackListId=s,a.count=d,a.createdAt=a.formatDate(m),a.image=f,a.duration=p,a.description=v||"",a.series=b,a.artist=g,a.genres=h,a.mixType=E,a.parts=O,a.tracks=j,a}return Object(B.a)(n,[{key:"formatDate",value:function(e){return Object(D.a)({},e,{label:K.a.unix(e.seconds).format("D.MM.YYYY")})}}]),n}(Q),ee=function(e){return e.map((function(e){return new Z(e).toObject()}))},te=function(e){Object(Y.a)(n,e);var t=Object($.a)(n);function n(e){var a,r=e.id,i=e.name,c=e.slug,o=e.image,u=e.genres,l=e.lastMixCreatedAt,s=e.lastMixTitle;return Object(V.a)(this,n),(a=t.call(this)).id=void 0,a.name=void 0,a.slug=void 0,a.image=void 0,a.genres=void 0,a.lastMixTitle=void 0,a.lastMixCreatedAt=void 0,a.id=r,a.name=i,a.slug=c,a.image=o,a.genres=u,a.lastMixTitle=s,a.lastMixCreatedAt=Object(D.a)({},l),a}return n}(Q),ne=function(e){return e.map((function(e){return new te(e).toObject()}))},ae=(a={},Object(F.a)(a,m.c.toString(),W),Object(F.a)(a,u.c.toString(),G),Object(F.a)(a,O.b.toString(),ee),Object(F.a)(a,S.b.toString(),ee),Object(F.a)(a,S.c.toString(),ee),Object(F.a)(a,k.b.toString(),ee),Object(F.a)(a,k.c.toString(),ee),Object(F.a)(a,A.b.toString(),ee),Object(F.a)(a,A.c.toString(),ee),Object(F.a)(a,I.b.toString(),ee),Object(F.a)(a,I.c.toString(),ee),Object(F.a)(a,h.b.toString(),ne),a),re=function(e){var t=e.payload,n=e.type,a=ae[n],r=Object(_.a)((function(){return a(t)}),(function(e){return e}),(function(){return t}));return Object(D.a)({},e,{payload:r})},ie=Object(i.a)({reducer:T,middleware:[U.a,function(e){return function(e){return function(t){return e(re(t))}}},L.a].concat(Object(r.a)(Object(i.c)()))});c.a.singleton("store",ie);t.a=ie},52:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return d}));var a=n(18),r=n(81),i=Object(a.b)({name:"seriesDetail",initialState:{pending:!1,loaded:!1,error:null,lastPartCount:0,mixes:[]},reducers:r.a}),c=i.actions,o=i.reducer,u=c.pending,l=c.fulfilled,s=c.fulfilledAppend,d=c.rejected;c.reset;t.a=o},528:function(e,t,n){},529:function(e,t,n){var a={"./login":101,"./login/":101,"./login/index":101,"./login/index.tsx":101,"./register":102,"./register/":102,"./register/index":102,"./register/index.tsx":102,"./test":158,"./test/":158,"./test/index":158,"./test/index.tsx":158};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=529},53:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return d}));var a=n(18),r=n(81),i=Object(a.b)({name:"genreDetail",initialState:{pending:!1,loaded:!1,error:null,lastPartCount:0,mixes:[]},reducers:r.a}),c=i.actions,o=i.reducer,u=c.pending,l=c.fulfilled,s=c.fulfilledAppend,d=c.rejected;c.reset;t.a=o},530:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(68),c=n.n(i),o=(n(337),n(35)),u=n(29),l=n(541),s=n(10),d=n(545),m=n(217),f=n(318),p=n(319),v=n(96),b=n(8),g=function(e){var t=e.series;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Item,{as:"span",className:"title"},"Series"),t.map((function(e,t){var n=e.name,a=e.icon,i=e.slug;return r.a.createElement(f.a.Item,{as:o.b,key:t,to:"/series/".concat(i)},r.a.createElement(v.a,{name:a,size:"tiny"}),n)})))},h=function(e){var t=e.genres;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Item,{as:"span",className:"title"},"Genres"),t.slice(0,4).map((function(e,t){var n=e.name,a=e.slug;return r.a.createElement(f.a.Item,{as:o.b,key:t,to:"/genres/".concat(a)},r.a.createElement(v.a,{name:"tag",size:"tiny"}),n)})))},E=function(){var e=Object(b.d)((function(e){return e.auth})).user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Item,{as:"span",className:"title"},"Others"),e&&r.a.createElement(f.a.Item,{as:o.b,to:"/favorites"},r.a.createElement(v.a,{name:"heart",size:"tiny"}),"Favorites"),r.a.createElement(f.a.Item,{as:"a"},r.a.createElement(v.a,{name:"send",size:"tiny"}),"Send Your Mix"))},O=n(108),j=n.n(O),y=Object(a.createContext)({}),w=function(e){var t=e.children,n=Object(a.useState)(window.innerWidth>992),i=Object(s.a)(n,2),c=i[0],u=i[1],l=Object(b.d)((function(e){return e})),O=l.series,w=O.series,x=O.loaded,N=l.genres,S=N.featuredGenres,k=N.loaded,A=x&&k;return r.a.createElement(y.Provider,{value:{toggle:function(){return u(!c)},visibility:c}},r.a.createElement(d.a.Pushable,{as:m.a,className:"app-sidebar"},r.a.createElement(d.a,{as:f.a,animation:"push",icon:"labeled",vertical:!0,visible:c,width:"wide"},r.a.createElement(f.a.Header,null,r.a.createElement(p.a,{src:j.a,href:"/"})),A&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Item,{as:o.b,icon:!0,to:"/",exact:!0,name:"Home"},r.a.createElement(v.a,{name:"home",size:"tiny"}),"Home"),r.a.createElement(g,{series:w}),r.a.createElement(h,{genres:S}),r.a.createElement(E,null))),r.a.createElement(d.a.Pusher,{dimmed:!1},r.a.createElement(m.a,{basic:!0},t))))},x=n(549),N=n(540),S=n(44),k=n(320),A=n(543),C=n(166),I=n(45),P=function(e){return r.a.createElement(p.a,e)},R=n(50),T=n(28),M=Object(T.b)("APP").NAME,L=function(e){var t,n=e.content,a=null===(t=(void 0===n?M:n).match(/(\b[A-Za-z]{1})/g))||void 0===t?void 0:t.map((function(e){return e.trim()})).filter(Boolean).join("");return r.a.createElement("div",null,a)},U=function(e){var t=e.content,n=e.width,a=void 0===n?50:n,i=e.height,c=void 0===i?a:i,o=e.className,u=void 0===o?"":o,l=Object(I.a)(e,["content","width","height","className"]);t=t||M;var s=Object(R.b)(t);return r.a.createElement("div",{className:"avatar ".concat(u),style:{width:"".concat(a,"px"),height:"".concat(c,"px"),fontSize:"".concat(a/2.5,"px"),borderRadius:"".concat(a/2,"px")}},s&&r.a.createElement(P,Object.assign({circular:!0,size:"small",src:t},l)),!s&&r.a.createElement(L,Object.assign({content:t},l)))},D=function(e){var t=e.user,n=Object(u.g)(),a=Object(b.c)(),i=t||{},c=i.displayName,o=i.photoUrl;return r.a.createElement(k.a,{className:"user-menu"},r.a.createElement(k.a.Row,{columns:"2"},r.a.createElement(k.a.Column,{verticalAlign:"middle",textAlign:"center",className:"user-avatar",width:5},r.a.createElement(U,{width:35,className:"margin-auto",content:o||c}),r.a.createElement(A.a,{floating:!0,direction:"left"},r.a.createElement(A.a.Menu,null,r.a.createElement(A.a.Item,{onClick:function(){return n.push("/favorites")},icon:"heart",text:"My Favorites"}),r.a.createElement(A.a.Item,{onClick:function(){return n.push("/account")},icon:"user",text:"My Account"}),r.a.createElement(A.a.Item,{onClick:function(){return a(Object(C.b)())},icon:"sign-out",text:"Logout"})))),r.a.createElement(x.a,{as:k.a.Column,minWidth:650,textAlign:"left",className:"user-info word-limit",verticalAlign:"middle",width:11},c)))},F=function(){var e=Object(b.d)((function(e){return e.auth})).user,t=Object(a.useContext)(S.a).openLoginModal;return r.a.createElement(f.a,{pointing:!0,size:"large",className:"wide-navigation"},r.a.createElement(f.a.Menu,{position:"left"},r.a.createElement(f.a.Item,null,r.a.createElement(N.a,{icon:"search",iconPosition:"left",placeholder:"Search music..."}))),r.a.createElement(f.a.Menu,{position:"right"},r.a.createElement(f.a.Item,null,!e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{name:"sign in alternate"}),r.a.createElement("a",{onClick:function(){return t()},href:"#/"},"Login"),r.a.createElement(v.a,{name:"ellipsis vertical"})),e&&r.a.createElement(D,{user:e}))))},_=function(){var e=Object(a.useContext)(y),t=e.toggle,n=e.visibility,i=Object(a.useContext)(S.a).openLoginModal,c=Object(b.d)((function(e){return e.auth})).user;return r.a.createElement("div",{className:"mobile-navigation"},r.a.createElement(k.a,{verticalAlign:"middle"},r.a.createElement(k.a.Row,{columns:3},r.a.createElement(k.a.Column,{width:6,verticalAlign:"middle"},r.a.createElement(v.a,{name:n?"times":"sidebar",size:"large",onClick:t})),r.a.createElement(k.a.Column,{width:4,textAlign:"center",verticalAlign:"middle"},r.a.createElement("img",{src:j.a,width:"120",alt:"Mix Zone"})),r.a.createElement(k.a.Column,{width:6,verticalAlign:"middle",textAlign:"right"},r.a.createElement(k.a,null,r.a.createElement(k.a.Row,{className:"mobile-right-wrapper"},r.a.createElement(k.a.Column,{className:"mobile-action-icons",width:c?6:16,verticalAlign:"middle",textAlign:"right"},r.a.createElement(v.a,{name:"search"}),!c&&r.a.createElement(v.a,{name:"user",onClick:function(){return i()}})),c&&r.a.createElement(k.a.Column,{className:"mobile-user-menu-wraper",width:10,verticalAlign:"middle"},c&&r.a.createElement(D,{user:c}))))))))},z=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{minWidth:769},r.a.createElement(F,null)),r.a.createElement(x.a,{maxWidth:768},r.a.createElement(_,null)))},H=function(){return null},W=[{check:function(e){return e>=1200},genres:{classNames:["pl-2em","genres-card-pb-0"].join(" ")},playlist:{}},{check:function(e){return e>=992&&e<1200},genres:{classNames:["pl-1em","genres-card-pb-0"].join(" ")},playlist:{classNames:["pb-2em"]}},{check:function(e){return e>=768&&e<992},genres:{classNames:["pl-2em"].join(" ")},playlist:{}},{check:function(e){return e<768},genres:{classNames:["pl-1em","genres-card-pb-0"].join(" ")},playlist:{classNames:["pb-2em"]}}],G={genres:{classNames:""},playlist:{classNames:""}},V=n(17),B=Object(a.forwardRef)((function(e,t){var n=e.children,a=e.top,i=e.bottom,c=e.left,o=e.right,u=e.style,l=void 0===u?{}:u,s=Object(I.a)(e,["children","top","bottom","left","right","style"]);return r.a.createElement("div",Object.assign({ref:t,className:"gutter",style:Object(V.a)({},l,{paddingRight:"".concat(o,"em"),paddingLeft:"".concat(c,"em"),paddingTop:"".concat(a,"em"),paddingBottom:"".concat(i,"em")})},s),n)}));B.defaultProps={top:1,left:1,right:1,bottom:1};var $=B,Y=n(544),X=n(547),K="https://yt3.ggpht.com/a/AGF-l78WViRTDtDkcrVVW8XlrrJ4MggAqM7UMKVkBQ=s288-mo-c-c0xffffffff-rj-k-no",J=function(e){var t=e.children,n=e.src,r=e.placeholder,i=void 0===r?K:r,c=Object(a.useState)(!1),o=Object(s.a)(c,2),u=o[0],l=o[1],d=Object(a.useState)(!1),m=Object(s.a)(d,2),f=m[0],p=m[1],v=new Image;return v.src=n,v.onload=function(){return l(!0)},v.onerror=function(){return p(!0)},"string"===typeof i?t(u?n:i):u?t(n):f?t(K):i},q=n(546),Q=n(170),Z=n.n(Q),ee=function(e){var t=e.dimmer,n=void 0===t||t,a=e.active,i=void 0!==a&&a,c=e.src,o=void 0===c?Z.a:c,u=e.size,l=Object(I.a)(e,["dimmer","active","src","size"]);return n?r.a.createElement(q.a,{active:i},r.a.createElement(p.a,Object.assign({},l,{size:u,src:o}))):r.a.createElement(p.a,Object.assign({},l,{size:u,src:o},{src:o}))},te=0,ne=function(e){var t,n=e.title,i=e.items,c=e.row,o=Object(u.g)(),l=Object(a.useState)(!1),d=Object(s.a)(l,2),m=d[0],f=d[1],p=Object(a.useState)(0),v=Object(s.a)(p,2),b=v[0],g=v[1];return r.a.createElement("div",{className:"showcase"},n&&r.a.createElement(X.a,{as:"h1"},n),r.a.createElement(Y.a.Group,{onMouseDownCapture:function(e){f(!0),g(e.clientX-te)},onMouseUpCapture:function(e){f(!1),g(0)},onMouseMove:function(e){if(e.preventDefault(),m&&!(e.movementX>-1&&te>=0)){var t=e.touches?e.touches[0]:e,n=-1*(b-t.clientX),a=document.querySelector(".showcase .ui.cards");null===a||void 0===a||a.scroll(Math.abs(te),0),te=te+n>0?0:n}},onMouseLeave:function(){return f(!1)}},(t=i,r.a.createElement(r.a.Fragment,null,t.map((function(e,t){var n=c(e),a=n.title,i=n.subTitle,u=n.image,l=n.link;return r.a.createElement(Y.a,{key:t,onClick:function(){return o.push(l)},link:!0},r.a.createElement(J,{src:u,placeholder:r.a.createElement(Y.a.Content,null,r.a.createElement(ee,{size:"mini",src:Z.a,dimmer:!1,active:!0}))},(function(e){return r.a.createElement(Y.a.Content,{style:{backgroundImage:"url(".concat(e,")")}})})),r.a.createElement(Y.a.Content,{extra:!0},r.a.createElement(Y.a.Header,null,a),r.a.createElement(Y.a.Meta,null,i)))}))))))},ae=function(){var e=Object(b.d)((function(e){return e.artists})),t=e.artists,n=e.loaded;return r.a.createElement(ne,{items:t,title:n?"Explore DJs":"",row:function(e){return{link:"/artists/".concat(e.slug),title:e.name,image:e.image,subTitle:e.lastMixTitle}}})},re=n(93),ie=n.n(re),ce=n(218),oe=[{check:function(e){return e<350},columns:[{name:"image",width:2},{name:"play",width:2},{name:"description",width:10},{name:"actions",width:2}]},{check:function(e){return e>350&&e<415},columns:[{name:"image",width:2},{name:"play",width:2},{name:"description",width:10},{name:"actions",width:2}]},{check:function(e){return e>=415&&e<600},columns:[{name:"image",width:2},{name:"play",width:1},{name:"description",width:8},{name:"genres",width:3},{name:"actions",width:2}]},{check:function(e){return e>=600&&e<800},columns:[{name:"image",width:1,className:"fix"},{name:"play",width:1,className:"fix"},{name:"description",width:6},{name:"genres",width:4},{name:"duration",width:1},{name:"actions",width:1,className:"fix"}]},{check:function(e){return e>=800},columns:[{name:"image",width:1,className:"fix"},{name:"play",width:1,className:"fix"},{name:"description",width:6},{name:"genres",width:3},{name:"date",width:2},{name:"duration",width:1},{name:"actions",width:1,className:"fix"}]}],ue=function(e){var t=e.mix.image;return r.a.createElement("div",{className:"image-wrapper",style:{maxWidth:49}},r.a.createElement(p.a,{src:t}))},le=n(40),se=n(113),de=Object(T.a)("HISTORY").partStorageKey,me=function(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e.playerHistory})),n=t.history,a=t.pointer;return{saveSeconds:function(e){0===Math.floor(e%5)&&sessionStorage.setItem("seconds",String(e))},getSeconds:function(){return parseInt(sessionStorage.getItem("seconds")||"0")},savePart:function(e){sessionStorage.setItem(de,String(e))},push:function(t){return e(Object(se.d)(t))},forward:function(){return e(Object(se.c)())},back:function(){return e(Object(se.a)())},canGoBack:n[(null!==a&&void 0!==a?a:0)-1],canGoForward:n[(null!==a&&void 0!==a?a:0)+1],length:n.length,history:n,pointer:a,equalToActiveHistory:function(e){var t=n[null!==a&&void 0!==a?a:0];return!!t&&t.id===e}}},fe=n(26),pe=n(33),ve=n(63),be=n.n(ve),ge=new(function(){function e(){Object(fe.a)(this,e),this.audioEl=new Audio,this.onLoadedData=new be.a,this.onLoadStart=new be.a,this.onPlay=new be.a,this.onPlaying=new be.a,this.onPause=new be.a,this.onWaiting=new be.a,this.onTimeUpdate=new be.a,this.onError=new be.a,this.onAbort=new be.a,this.onEnded=new be.a,this.createEvents()}return Object(pe.a)(e,[{key:"load",value:function(e){return this.audioEl.src=e,this.audioEl.load(),this}},{key:"play",value:function(){this.audioEl.play()}},{key:"pause",value:function(){this.audioEl.pause()}},{key:"createEvents",value:function(){var e=this;this.audioEl.addEventListener("loadeddata",(function(){return e.onLoadedData.notify()})),this.audioEl.addEventListener("loadstart",(function(){return e.onLoadStart.notify()})),this.audioEl.addEventListener("pause",(function(){return e.onPause.notify()})),this.audioEl.addEventListener("play",(function(){return e.onPlay.notify()})),this.audioEl.addEventListener("playing",(function(){return e.onPlaying.notify()})),this.audioEl.addEventListener("waiting",(function(){return e.onWaiting.notify()})),this.audioEl.addEventListener("timeupdate",(function(){return e.onTimeUpdate.notify()})),this.audioEl.addEventListener("error",(function(t){return e.onError.notify(t)})),this.audioEl.addEventListener("abort",(function(t){return e.onAbort.notify(t)})),this.audioEl.addEventListener("ended",(function(){return e.onEnded.notify()}))}},{key:"audio",get:function(){return this.audioEl}}]),e}()),he=function(e,t){switch(t){case 1:return"https://drive.google.com/uc?export=download&id=".concat(e);case 2:return"https://www.dl.dropboxusercontent.com/s/".concat(e,".mp3?dl=0")}},Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.sourceType,a=e.parts,r=void 0===a?[]:a,i=e.mixType,c=void 0===i?1:i;switch(t=t?t-1:0,c){case 3:case 1:case 2:var o=r[t],u=o.sourceUrl,l=o.sourceId;return u||he(l,n)}},Oe=function(e){return 2===e},je=function(e){return 3===e},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return!!t&&void 0!==we(e,t)},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e[t]},xe=function(e,t){var n,a;if(e&&!je(e.mixType))a=e.duration;else if(t&&(null===e||void 0===e?void 0:e.parts)){var r=null===e||void 0===e?void 0:e.parts.find((function(e){return e.partNumber===t}));console.log("part",r),a=r&&r.duration}return null!==(n=a)&&void 0!==n?n:0},Ne=n(164),Se=function(){var e=Object(b.c)(),t=me(),n=t.saveSeconds,a=t.getSeconds,r=t.savePart,i=t.push,c=t.back,o=t.forward,u=t.history,l=t.pointer,s=Object(b.d)((function(e){return e.mainPlayer})),d=s.partNumber,m=s.currentMix,f=s.isPlaying,p=s.isPaused,v=s.isLoading,g=s.hasError,h=s.isVisible,E=s.isSilent,O=function(t,n){if(n){var a=n.mixType;if(Oe(a)){var i=(0,Ne.a.get("store").getState)().mainPlayer.partNumber,c=n.parts,o=void 0===c?[]:c,u=function(e,t){var n=0;return e.find((function(e){var a=e.duration;return t>=(n+=a)-a&&t<=n}))}(o,t);if(!u)return;var l=u.partNumber;if(t-=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],t.findIndex((function(t){return t.sourceId===e.sourceId})));return t.slice(0,n).reduce((function(e,t){return e+t.duration}),0)}(u,o,!0),i!==l){e(Object(le.d)(l));var s=Ee(n,l);s&&ge.load(s),r(l)}}ge.audio.currentTime=t}},j=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t&&m&&g||!m&&t||m&&t&&t.id!==m.id||t&&E){e(Object(le.f)(t)),i(t);var c=Ee(t);c&&ge.load(c),O(a,t),n(a),r(1)}else f&&ge.pause(),p&&ge.play()},y=function(t){if(t)if(O(0),n(0),E||p)e(Object(le.e)(t));else{j(t),e(Object(le.f)(t));var a=Ee(t);a&&ge.load(a)}};return{partNumber:d,currentMix:m,play:j,pause:function(){return console.log("")},back:function(){if(null!==l){c();var e=u[l-1];y(e)}},forward:function(){if(null!==l){o();var e=u[l+1];y(e)}},saveSeconds:n,getSeconds:a,seek:O,hasError:g,isPlaying:f,isPaused:p,isLoading:v,isVisible:h,service:ge}},ke=function(e){var t=e.mix,n=Se(),a=n.play,i=n.currentMix,c=n.isPlaying,o=n.isLoading;return r.a.createElement("div",{className:"play-wrapper"},i&&i.id===t.id?r.a.createElement(v.a,{link:!0,name:c?"pause":o?"sync alternate":"play",loading:o,disabled:o,onClick:function(){a(t)}}):r.a.createElement(v.a,{link:!0,name:"play",onClick:function(){a(t)}}))},Ae=function(e){var t=e.mix,n=t.description,a=t.count,i=t.series,c=(i=void 0===i?{}:i).name,o=void 0===c?null:c;return r.a.createElement("div",{className:"description-wrapper"},r.a.createElement("div",{className:"pl-desc-series"},o," #",a),n&&r.a.createElement("div",{className:"pl-desc word-limit",title:n},n))},Ce=function(e){var t=e.mix.genres,n=(void 0===t?[]:t).filter(Boolean).map((function(e){return e.name})).join(", ");return r.a.createElement("div",{className:"genres-wrapper word-limit"},n)},Ie=n(171),Pe=function(e){var t=e.mix.duration,n={"%H":R.d,"%m":R.d,"%s":R.d};return r.a.createElement("div",{className:"duration-wrapper"},Object(Ie.a)(t,"%H:%m:%s",{setters:n}))},Re=function(e){var t=e.mix.createdAt.label;return r.a.createElement("div",{className:"date-wrapper"},t)},Te=n(94),Me=function(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e})),n=t.auth.user,a=t.userFavourites.ids,r=void 0===a?[]:a,i=function(e){return e&&n&&r.includes(e)};return{has:i,toggle:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n&&n.uid;return i(t)?e(Object(Te.c)(a,t)):e(Object(Te.a)(a,t))}}},Le={image:ue,play:ke,description:Ae,genres:Ce,duration:Pe,date:Re,actions:function(e){var t,n=e.mix,i=n.id,c=void 0===i?"":i,o=n.sourceId,u=n.trackListId,l=Object(b.d)((function(e){return e})).auth.user,s=Object(a.useContext)(S.a).openLoginModal,d=Me(),m=d.has,f=d.toggle,p=Object(T.b)("PLAYLIST").ACTIONS;return r.a.createElement("div",{className:"actions-wrapper"},r.a.createElement(A.a,{text:"...",floating:!0,direction:"left"},r.a.createElement(A.a.Menu,null,l&&r.a.createElement(A.a.Item,{icon:"heart",onClick:function(){return f(c)},text:m(c)?p.REMOVE_FROM_FAVOURITES:p.ADD_TO_FAVOURITES}),!l&&r.a.createElement(A.a.Item,{icon:"heart",text:"Add to favorites",onClick:function(){return s()}}),r.a.createElement(A.a.Item,{as:"a",icon:"download",text:"Download",href:he(o)}),u&&r.a.createElement(A.a.Item,{as:"a",icon:"numbered list",text:"Show track list",href:(t=u,"https://docs.google.com/document/d/".concat(t,"/export?format=pdf"))}))))}},Ue=function(e){var t=e.items,n=void 0===t?[]:t,i=e.onLoad,c=Object(a.useState)(!1),o=Object(s.a)(c,2),u=o[0],d=o[1],f=Object(a.useState)(0),p=Object(s.a)(f,2),v=p[0],b=p[1],g=Object(a.useRef)(null),h=(oe.find((function(e){return(0,e.check)(v)}))||{}).columns,E=void 0===h?[]:h,O=function(e,t){var n=g.current;n&&b(n.clientWidth)};Object(a.useEffect)(O,[]),Object(a.useEffect)((function(){d(!1)}),[n]);var j=i&&n.length>0;return r.a.createElement(l.a,{fluid:!0,className:"playlist"},r.a.createElement("div",{ref:g},r.a.createElement(x.a,{fireOnMount:!0,as:k.a,onUpdate:O},n.map((function(e,t){return r.a.createElement(k.a.Row,{key:t,className:"playlist-item"},E.map((function(t,n){var a=t.width,i=t.name,c=t.className,o=void 0===c?"":c,u=ie()(i,Le);return r.a.createElement(k.a.Column,{key:n,verticalAlign:"middle",width:a,className:"".concat(o," ").concat(i)},u&&r.a.createElement(u,{mix:e}))})))}))),r.a.createElement(m.a,{style:{opacity:j?"1":"0"}},r.a.createElement(ce.a,{size:"big",inverted:!0,color:"red",fluid:!0,loading:u,disabled:u||!j,onClick:function(){d(!0),i&&i(n[n.length-1])}},"Load More"))))},De=n(9),Fe=n.n(De),_e=n(22),ze=n(24),He=n(72),We=function(e){return e.map((function(e){return Object(V.a)({},e.data(),{id:e.id})}))},Ge=function(){var e=Object(_e.a)(Fe.a.mark((function e(t,n){var a,r,i,c,o,u,l,d,m,f,p,v,b;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,c=(i=n||{}).where,o=void 0===c?[]:c,u=i.startAt,l=i.orderBy,d=void 0===l?[]:l,m=i.limit,f=void 0===m?10:m,!u){e.next=6;break}return e.next=5,t.doc(u).get();case 5:a=e.sent;case 6:return o.forEach((function(e){var t=Object(s.a)(e,3),n=t[0],a=t[1],i=t[2];return r=r.where(n,a,i)})),d.length>0&&(p=Object(s.a)(d,2),v=p[0],b=p[1],v&&(r=r.orderBy(v,b))),a&&(r=r.startAfter(a)),f&&(r=r.limit(f)),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ve=function(e,t,n,a){return function(){var r=Object(_e.a)(Fe.a.mark((function r(i){var c,o,u,l,s;return Fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i(t()),c=ze.a.db.collection("mixes"),r.next=5,Ge(c,e);case 5:return o=r.sent,r.next=8,o.get();case 8:u=r.sent,l=u.docs,s=We(void 0===l?[]:l),i(n(s)),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),i(a(r.t0));case 18:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e){return r.apply(this,arguments)}}()},Be=n(131),$e=n(51),Ye=function(e){return $e.a.dispatch(Object(Be.b)({name:e}))},Xe=function(e){return $e.a.dispatch(Object(Be.c)(e))},Ke=n(25),Je=function e(t){return{add:function(n){var a=n.items,r=n.name,i=n.localId,c=void 0===i?"":i,o=n.foreignId,u=t.map((function(e){return Object(V.a)({},e,Object(Ke.a)({},r,a.find((function(t){return t[c]===e[o]}))))}));return e(u)},map:function(n){var a=n.items,r=n.ids,i=n.localId,c=t.map((function(e){return Object(V.a)({},e,Object(Ke.a)({},r,(e[r]||[]).map((function(e){return a.find((function(t){var n=t[i];return e===n}))}))))}));return e(c)},get:function(){return t}}},qe=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{left:function(n){return e(Object(V.a)({},t,{left:n}))},right:function(n){return e(Object(V.a)({},t,{right:n}))},map:function(n){return n(e(t))},toNumber:function(){return t.left/100*t.right},toPercent:function(){return t.left/t.right*100}}},Qe=function(e){return{items:e,name:"series",localId:"id",foreignId:"seriesId"}},Ze=function(e){return{items:e,name:"artist",localId:"id",foreignId:"artistId"}},et=function(e){return{items:e,localId:"id",ids:"genres"}},tt=function(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e})),n=t.series,i=n.series,c=n.loaded,o=t.genres,u=o.genres,l=o.loaded,s=t.artists,d=s.artists,m=s.loaded,f=t.recentlyAddedMixes,p=f.mixes,v=f.loaded,g=f.normalized;return Object(a.useEffect)((function(){Ye("load recently added mixes"),!v&&e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return function(){var t=Object(_e.a)(Fe.a.mark((function t(n){var a,r,i,c,o;return Fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Object(He.d)()),a=ze.a.db.collection("mixes").orderBy("createdAt","desc").limit(e),t.next=5,a.get();case 5:r=t.sent,i=r.docs,c=We(void 0===i?[]:i),n(Object(He.b)(c)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),o=t.t0.message,n(Object(He.e)(o));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}())}),[v,e]),Object(a.useEffect)((function(){if(!g&&c&&l&&m){var t=Je(p).add(Qe(i)).add(Ze(d)).map(et(u)).get();e(function(e){return function(){var t=Object(_e.a)(Fe.a.mark((function t(n){return Fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(He.c)(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}g&&Xe("load recently added mixes")}),[p,i,u,d,e,g,c,m,l]),v?r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{className:"popular-title",as:"h1"},"Recently Added"),r.a.createElement(Ue,{items:p})):null},nt=function(e){var t=e.items,n=void 0===t?[]:t,a=Object(u.g)();return r.a.createElement(k.a,{stackable:!0,className:"genres-grid"},r.a.createElement(k.a.Row,{columns:4},n.map((function(e){var t=e.slug,n=e.name,i=e.id;return r.a.createElement(k.a.Column,{width:8,key:i},r.a.createElement(Y.a,{onClick:function(){return a.push("/genres/".concat(t))},header:n}))}))))},at=function(){var e=Object(b.d)((function(e){return e.genres})),t=e.featuredGenres;return e.loaded?r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{className:"mood-title",as:"h1"},"Mood"),r.a.createElement(nt,{items:Object(R.c)(t.slice(0,4))})):null},rt=function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useRef)(null),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width;n&&i(n)},u=W.find((function(e){return(0,e.check)(n)}))||G,d=u.genres.classNames,m=u.playlist.classNames;return Object(a.useEffect)(o,[]),r.a.createElement($,{ref:c},r.a.createElement(x.a,{fluid:!0,className:"home",fireOnMount:!0,as:l.a,onUpdate:o},r.a.createElement(ae,null),r.a.createElement(l.a,{fluid:!0,className:"inner-wrapper"},r.a.createElement(k.a,{stackable:!0},r.a.createElement(k.a.Row,{columns:2},r.a.createElement(k.a.Column,{className:"pl-wrapper ".concat(m),mobile:8,tablet:8,computer:16,widescreen:8,largeScreen:8},r.a.createElement(tt,null)),r.a.createElement(k.a.Column,{mobile:8,tablet:8,computer:16,widescreen:8,largeScreen:8,className:d},r.a.createElement(at,null)))))))},it=n(216),ct=n(71),ot={success:"check",warning:"warning circle",error:"warning circle",info:"info"},ut={tension:262,friction:10,precision:.5,mass:1},lt=function(){var e=Object(a.useState)((function(){return new WeakMap})),t=Object(s.a)(e,1)[0],n=Object(b.c)(),i=Object(b.d)((function(e){return e.toast})).messages,c=Object(it.b)(i,(function(e){return e.key}),{from:{opacity:0,right:-100,life:"0%"},enter:function(e){return function(){var n=Object(_e.a)(Fe.a.mark((function n(a){var r,i;return Fe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.get(e)||{},i=r.offsetHeight,n.next=3,a({opacity:1,right:20,height:i});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},leave:function(){return function(){var e=Object(_e.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({life:"100%"});case 2:return e.next=4,t({opacity:0,right:-150});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},onRest:function(e,t,a){1===a.opacity&&n(Object(ct.c)(e.key))},config:function(e,t){return"leave"===t?[Object(V.a)({duration:4e3},ut),ut]:ut}});return r.a.createElement("div",{className:"toast-container",style:{top:window.pageYOffset}},c.map((function(e,n){var a=e.item,i=void 0===a?{}:a,c=e.props,o=(c.life,Object(I.a)(c,["life"]));e.key;return r.a.createElement(it.a.div,{ref:function(e){return e&&t.set(i,e)},className:"toast",key:n,style:Object(V.a)({zIndex:1,position:"relative",margin:20},o)},r.a.createElement(Y.a,{className:i.type&&i.type},i.title&&r.a.createElement(Y.a.Content,{header:i.title}),r.a.createElement(Y.a.Content,null,!!ot[i.type]&&r.a.createElement(v.a,{name:ot[i.type],size:"large"}),i.content)))})))},st=function(){return Object(b.d)((function(e){return e.screenIndicator})).isEmpty?null:r.a.createElement(ee,{src:j.a,active:!0,type:"logo"})},dt=n(550),mt=n(86),ft=function(e){var t=e.error,n=(e.className,e.label),a=void 0===n?"":n,i=e.value,c=Object(I.a)(e,["error","className","label","value"]);return r.a.createElement("div",{className:"theme form-input"},r.a.createElement(mt.a.Input,Object.assign({},c,{label:i?a:"",value:i})),t&&r.a.createElement("span",{className:"error"},t))},pt=n(60),vt=n(46),bt=Object(T.b)("ACCOUNT").PROFILE,gt=function(e){var t=e.profile,n=Object(b.c)(),i=Object(b.d)((function(e){return e.profile})),c=i.pending,o=i.error,u=i.success,l=t.displayName,d=t.photoUrl,m=void 0===d?"":d,f=Object(a.useState)({displayName:l,photoUrl:m}),p=Object(s.a)(f,2),v=p[0],g=p[1],h=function(e){var t=e.target,n=t.name,a=t.value;g(Object(V.a)({},v,Object(Ke.a)({},n,a)))};Object(a.useEffect)((function(){u&&Object(vt.b)(bt.SUCCESS),o&&Object(vt.a)(o)}),[u,o]);var E=v.photoUrl,O=v.displayName,j=Object(R.b)(E)?E:O;return r.a.createElement(k.a,{className:"profile"},r.a.createElement(k.a.Row,{columns:"3"},r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"}),r.a.createElement(k.a.Column,{mobile:"16",computer:"10",tablet:"10",largeScreen:"8",widescreen:"6"},r.a.createElement(X.a,{as:"h1"},"Profile"),r.a.createElement(mt.a,{autoComplete:"off"},r.a.createElement(mt.a.Field,null,r.a.createElement(U,{content:j})),r.a.createElement(mt.a.Field,null,r.a.createElement(ft,{autoComplete:"off",name:"photoUrl",size:"large",fluid:!0,label:"Avatar Link:",value:E,onChange:h,placeholder:"Avatar Link",className:""})),r.a.createElement(mt.a.Field,null,r.a.createElement(ft,{autoComplete:"off",name:"displayName",size:"large",fluid:!0,label:"Name:",value:O,onChange:h,placeholder:"Name"})),r.a.createElement(ce.a,{positive:!0,size:"large",onClick:function(){n(Object(pt.e)(v))},disabled:c,content:"SAVE"}))),r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"})))},ht=n(110),Et=Object(T.b)("ACCOUNT").CHANGE_EMAIL,Ot=function(e){var t=e.email,n=Object(b.c)(),i=Object(b.d)((function(e){return e.changeEmail})),c=i.error,o=i.pending,u=i.success,l=Object(a.useState)(t),d=Object(s.a)(l,2),m=d[0],f=d[1];return Object(a.useEffect)((function(){c&&Object(vt.a)(c),u&&Object(vt.b)(Et.SUCCESS)}),[c,u]),r.a.createElement(k.a,{className:"change-email"},r.a.createElement(k.a.Row,{columns:"3"},r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"}),r.a.createElement(k.a.Column,{mobile:"16",computer:"10",tablet:"10",largeScreen:"8",widescreen:"6"},r.a.createElement(X.a,{as:"h1"},"Change Email"),r.a.createElement(mt.a,{autoComplete:"off"},r.a.createElement(mt.a.Field,null,r.a.createElement(ft,{autoComplete:"off",name:"email",size:"large",fluid:!0,label:"Email:",value:m,onChange:function(e){var t=e.target.value;f(t)},placeholder:"Email"})),r.a.createElement(ce.a,{positive:!0,size:"large",onClick:function(){return m&&n(Object(ht.a)(m))},disabled:o||t===m,content:"SAVE"}))),r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"})))},jt=n(111),yt=Object(T.b)("ACCOUNT").CHANGE_PASSWORD,wt=function(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e.changePassword})),n=t.error,i=t.pending,c=t.success,o=Object(a.useState)(""),u=Object(s.a)(o,2),l=u[0],d=u[1];return Object(a.useEffect)((function(){n&&Object(vt.a)(n),c&&Object(vt.b)(yt.SUCCESS)}),[n,c]),r.a.createElement(k.a,{className:"change-password"},r.a.createElement(k.a.Row,{columns:"3"},r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"}),r.a.createElement(k.a.Column,{mobile:"16",computer:"10",tablet:"10",largeScreen:"8",widescreen:"6"},r.a.createElement(X.a,{as:"h1"},"Change Password"),r.a.createElement(mt.a,{autoComplete:"off"},r.a.createElement(mt.a.Field,null,r.a.createElement(ft,{type:"password",autoComplete:"off",name:"email",size:"large",fluid:!0,label:"New Password:",value:l,onChange:function(e){var t=e.target.value;d(t)},placeholder:"New Password"})),r.a.createElement(ce.a,{positive:!0,size:"large",onClick:function(){return l&&e(Object(jt.a)(l))},disabled:i,content:"SAVE"}))),r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"})))},xt=function(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e.profile})).profile;Object(a.useEffect)((function(){return e(Object(pt.b)()),function(){e(Object(pt.d)()),e(Object(ht.c)()),e(Object(jt.c)())}}),[e]);var n=[{menuItem:"Profile",pane:r.a.createElement(dt.a.Pane,{key:"profile",attached:!1},t&&r.a.createElement(gt,{profile:t}))},{menuItem:"Change Email",pane:r.a.createElement(dt.a.Pane,{key:"changeEmail",attached:!1},r.a.createElement(Ot,{email:null===t||void 0===t?void 0:t.email}))},{menuItem:"Change Password",pane:r.a.createElement(dt.a.Pane,{key:"changePassword",attached:!1},r.a.createElement(wt,null))}],i=t||{},c=i.displayName,o=i.photoUrl;return r.a.createElement(l.a,{fluid:!0,className:"account"},r.a.createElement(l.a,{fluid:!0,textAlign:"center",className:"cover-area"},r.a.createElement(X.a,{as:"h1"},"My Account"),r.a.createElement(U,{width:100,className:"margin-auto",content:o||c})),t&&r.a.createElement($,null,r.a.createElement(dt.a,{renderActiveOnly:!1,className:"tab-container",menu:{secondary:!0,pointing:!0},panes:n})))},Nt=n(34),St=n(62),kt=n(47),At=n(54),Ct=function(e){var t=e.children,n=e.cond,a=e.redirectTo,i=void 0===a?"/":a;return n?t:r.a.createElement(u.a,{to:i})},It=function(e){var t=e.title,n=e.image;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.Row,{columns:"1",verticalAlign:"middle",textAlign:"center"},r.a.createElement(k.a.Column,{verticalAlign:"middle",textAlign:"center"},n&&r.a.createElement(J,{src:n,placeholder:r.a.createElement(ee,{size:"mini",dimmer:!1,active:!0,verticalAlign:"middle"})},(function(e){return r.a.createElement(P,{src:e,size:"tiny",verticalAlign:"middle"})})))),r.a.createElement(k.a.Row,null,r.a.createElement(k.a.Column,{textAlign:"center"},r.a.createElement(X.a,{size:"large",as:"h1"},t))))},Pt=function(e){var t=e.title,n=e.image;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.Row,{columns:"2",verticalAlign:"middle"},r.a.createElement(k.a.Column,{verticalAlign:"middle",textAlign:"center",widescreen:"1",tablet:"3"},r.a.createElement(p.a,{src:n,size:"tiny",verticalAlign:"middle",className:"widescreen"})),r.a.createElement(k.a.Column,{widescreen:"12"},r.a.createElement(X.a,{size:"huge",as:"h1"},t))))},Rt=function(e){var t=e.title,n=e.image;return r.a.createElement(l.a,{className:"pageHeader reset",fluid:!0},r.a.createElement(x.a,{as:k.a,className:"reset series-mobile",maxWidth:"780"},r.a.createElement(It,{title:t,image:n})),r.a.createElement(x.a,{as:k.a,className:"reset series-wide",minWidth:"780"},r.a.createElement(Pt,{title:t,image:n})))},Tt=n(317),Mt=n.n(Tt),Lt=kt.a.PAGINATION,Ut=St.firestore.FieldPath.documentId(),Dt={orderBy:[Ut,"asc"],limit:Lt.limit},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[["status","==",1],[Ut,"in",e]]},_t=function(){var e=Object(b.d)((function(e){return e})),t=e.userFavourites,n=t.ids,i=void 0===n?[]:n,c=t.loaded,o=e.favouriteList,u=o.mixes,d=o.loaded,m=o.lastPartCount,f=e.genres,p=f.genres,v=f.loaded,g=e.series,h=g.series,E=g.loaded,O=Object(b.c)(),j=Object(a.useState)(kt.a.PAGINATION.limit),y=Object(s.a)(j,1)[0],w=Object(a.useState)([]),x=Object(s.a)(w,2),N=x[0],S=x[1];return Object(a.useEffect)((function(){var e=i.slice(0,y);c&&O(Ve(Object(V.a)({where:Object(Nt.a)(Ft(e))},Dt),At.d,At.b,At.e))}),[c,i,y,O]),Object(a.useEffect)((function(){if(d&&E){var e=Je(h).map(et(p)).get(),t=Je(u).add(Qe(e)).map(et(p)).get();S(t)}}),[u,d,E,v,h,O,p]),r.a.createElement(Ct,{cond:!0},r.a.createElement(l.a,{fluid:!0,className:"artistDetailPage reset"},r.a.createElement(Rt,{title:"Favourites",image:Mt.a}),r.a.createElement($,{top:2,right:1.5,bottom:2,left:1.5,style:{overflowY:"auto",height:"calc(100vh - 230px)"},key:"list-gutter"},r.a.createElement(Ue,{items:N,onLoad:i.length>Dt.limit&&m===Dt.limit?function(){return function(){var e=N.length,t=i.slice(e,e+y);t.length<1||O(Ve(Object(V.a)({where:Object(Nt.a)(Ft(t))},Dt),At.d,At.c,At.e))}()}:void 0}))))},zt=n(53),Ht={orderBy:["createdAt","desc"],limit:kt.a.PAGINATION.limit},Wt=function(){var e=Object(u.h)().slug,t=Object(b.c)(),n=Object(a.useState)([]),i=Object(s.a)(n,2),c=i[0],o=i[1],d=Object(b.d)((function(e){return e})),m=d.artists.artists,f=d.genres,p=f.genres,v=f.loaded,g=d.series,h=g.series,E=g.loaded,O=d.genreDetail,j=O.mixes,y=O.lastPartCount,w=O.loaded,x=p.find((function(t){return t.slug===e}));Object(a.useEffect)((function(){if(v&&x){var e=x.id;t(Ve(Object(V.a)({where:[["status","==",1],["genres","array-contains",e]]},Ht),zt.d,zt.b,zt.e))}}),[v,x,t]),Object(a.useEffect)((function(){if(w&&E){var e=Je(h).map(et(p)).get(),t=Je(j).add(Ze(m)).add(Qe(e)).map(et(p)).get();o(t)}}),[j,w,E,h,t,p,m]);var N=x||{},S=N.id,k=N.name,A=N.image;return r.a.createElement(Ct,{cond:!v||!!x},r.a.createElement(l.a,{fluid:!0,className:"genreDetailPage reset"},r.a.createElement(Rt,{title:k,image:A}),r.a.createElement($,{top:3,right:1.5,bottom:2,left:2,style:{overflowY:"auto",height:"calc(100vh - 200px)"}},r.a.createElement(Ue,{items:c,onLoad:y===Ht.limit?function(e){var n=e.id;return S&&function(e,n){t(Ve(Object(V.a)({where:[["status","==",1],["genres","array-contains",e]]},Ht,{startAt:n}),zt.d,zt.c,zt.e))}(S,n)}:void 0}))))},Gt=n(52),Vt={orderBy:["count","desc"],limit:kt.a.PAGINATION.limit},Bt=function(){var e=Object(u.h)().slug,t=Object(a.useState)([]),n=Object(s.a)(t,2),i=n[0],c=n[1],o=Object(b.c)(),d=Object(b.d)((function(e){return e})),m=d.genres.genres,f=d.series,p=f.series,v=f.loaded,g=d.artists.artists,h=d.seriesDetail,E=h.mixes,O=h.lastPartCount,j=h.loaded,y=p.find((function(t){return t.slug===e}));Object(a.useEffect)((function(){if(v&&y){var e=y.id;o(Ve(Object(V.a)({where:[["status","==",1],["seriesId","==",e]]},Vt),Gt.d,Gt.b,Gt.e))}}),[v,y,o]),Object(a.useEffect)((function(){if(j){var e=Je(p).map(et(m)).get(),t=Je(E).add(Qe(e)).add(Ze(g)).map(et(m)).get();c(t)}}),[E,j,p,o,m,g]);var w=y||{},x=w.id,N=w.name,S=w.image;return r.a.createElement(Ct,{cond:!v||!!y},r.a.createElement(l.a,{fluid:!0,className:"seriesPage reset"},r.a.createElement(Rt,{title:N,image:S}),r.a.createElement($,{top:3,right:1.5,bottom:2,left:2,style:{overflowY:"auto",height:"calc(100vh - 200px)"}},r.a.createElement(Ue,{items:i,onLoad:O===Vt.limit?function(e){var t=e.id;return x&&function(e,t){o(Ve(Object(V.a)({where:[["status","==",1],["seriesId","==",e]]},Vt,{startAt:t}),Gt.d,Gt.c,Gt.e))}(x,t)}:void 0}))))},$t=n(132),Yt=n(42),Xt={orderBy:["createdAt","desc"],limit:kt.a.PAGINATION.limit},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[["status","==",1],["artistId","==",e]]},Jt=function(){var e=Object(u.h)().slug,t=Object(b.c)(),n=Object(a.useState)([]),i=Object(s.a)(n,2),c=i[0],o=i[1],d=Object(a.useState)([]),m=Object(s.a)(d,2),f=m[0],p=m[1],v=Object(a.useState)(),g=Object(s.a)(v,2),h=g[0],E=g[1],O=Object(b.d)((function(e){return e})),j=O.artists,y=j.artists,w=j.loaded,x=O.genres,N=x.genres,S=x.loaded,k=O.series,A=k.series,C=k.loaded,I=O.artistDetail,P=I.mixes,R=I.lastPartCount,T=I.loaded,M=y.find((function(t){return t.slug===e}));Object(a.useEffect)((function(){if(w&&M){var e=M.id;t(Ve(Object(V.a)({where:Object(Nt.a)(Kt(e))},Xt),Yt.d,Yt.b,Yt.e))}}),[w,M,t]),Object(a.useEffect)((function(){if(M){var e=M.id,n=h?[["genres","array-contains",h]]:[];t(Ve(Object(V.a)({where:[].concat(Object(Nt.a)(Kt(e)),n)},Xt),Yt.d,Yt.b,Yt.e))}}),[h,M,t]),Object(a.useEffect)((function(){if(T&&C&&w){var e=Je(A).map(et(N)).get(),t=Je(P).add(Qe(e)).map(et(N)).add(Ze([M])).get();o(t)}}),[P,T,C,S,w,A,t,N,M]),Object(a.useEffect)((function(){if(M&&S&&w){var e=M.genres,t=Je([{genres:void 0===e?[]:e}]).map(et(N)).get(),n=Object(s.a)(t,1)[0].genres;p(n.filter(Boolean))}}),[w,S,N,M]);var L=M||{},U=L.id,D=L.name,F=L.image;return r.a.createElement(Ct,{cond:!w||!!M},r.a.createElement(l.a,{fluid:!0,className:"artistDetailPage reset"},r.a.createElement(Rt,{title:D,image:F}),f.length>1&&r.a.createElement($,{top:1,right:1.5,bottom:.5,left:1,key:"filter-gutter"},r.a.createElement($t.a.Group,{size:"medium"},f.map((function(e){var t=e.id,n=e.name;return r.a.createElement($t.a,{key:t,onClick:function(){E(t)},as:"a",color:t===h?"blue":void 0},"# ",n)})))),r.a.createElement($,{top:2,right:1.5,bottom:2,left:2,style:{overflowY:"auto",height:"calc(100vh - 230px)"},key:"list-gutter"},r.a.createElement(Ue,{items:c,onLoad:R===Xt.limit?function(e){var n=e.id;return U&&function(e,n){var a=h?[["genres","array-contains",h]]:[];t(Ve(Object(V.a)({where:[].concat(Object(Nt.a)(Kt(e)),a)},Xt,{startAt:n}),Yt.d,Yt.c,Yt.e))}(U,n)}:void 0}))))},qt=n(37),Qt=n(38),Zt=[{check:function(e){return e<350},columns:[{name:"controls",width:4,className:"small-mobile",visibilities:{volume:!1}},{name:"info",width:9,className:"small-mobile"},{name:"actions",width:3,extra:{actionName:"go-to-detail"}}]},{check:function(e){return e>350&&e<414},columns:[{name:"controls",width:4,visibilities:{volume:!1},className:"mobile"},{name:"info",width:9,className:"mobile"},{name:"actions",width:2,extra:{actionName:"go-to-detail"}}]},{check:function(e){return e>=414&&e<650},columns:[{name:"controls",width:4,className:"mobile-plus",visibilities:{volume:!1}},{name:"info",width:9,className:"mobile-plus"},{name:"actions",width:3,extra:{actionName:"go-to-detail"}}]},{check:function(e){return e>=650&&e<720},columns:[{name:"controls",width:4,className:"tablet",visibilities:{volume:!1}},{name:"info",width:2},{name:"timeline",width:8},{name:"actions",width:1,extra:{actionName:"go-to-detail"}}]},{check:function(e){return e>=720&&e<900},columns:[{name:"controls",width:3,className:"tablet",visibilities:{volume:!1}},{name:"info",width:12,className:"tablet"},{name:"actions",width:1,extra:{actionName:"go-to-detail"}}]},{check:function(e){return e>=900&&e<1024},columns:[{name:"controls",width:4,className:"tablet"},{name:"info",width:4},{name:"timeline",width:5},{name:"actions",width:1}]},{check:function(e){return e>=1024&&e<1319},columns:[{name:"controls",width:4,className:"computer"},{name:"info",width:4,className:"computer"},{name:"timeline",width:7},{name:"actions",width:1}]},{check:function(e){return e>=1319},columns:[{name:"controls",width:2,className:"widescreen"},{name:"info",width:3},{name:"timeline",width:9},{name:"actions",width:2}]}],en=function(e){var t=e.extra,n=(Object(I.a)(e,["extra"]),t.actionName),a=Se().currentMix,i=Me(),c=i.has,o=i.toggle,u=Object(T.b)("MAIN_PLAYER").ACTIONS;return r.a.createElement("div",{className:"player-actions"},!n&&r.a.createElement(A.a,{item:!0,direction:"left",icon:"bars"},r.a.createElement(A.a.Menu,null,r.a.createElement(A.a.Item,{icon:"heart",onClick:function(){return(null===a||void 0===a?void 0:a.id)&&o(null===a||void 0===a?void 0:a.id)},text:c(null===a||void 0===a?void 0:a.id)?u.REMOVE_FROM_FAVOURITES:u.ADD_TO_FAVOURITES}))),"go-to-detail"===n&&r.a.createElement(v.a,{name:"angle up",link:!0,size:"large"}))},tn=n(172),nn=n.n(tn),an=function(){var e=Se().service,t=Object(a.useState)(!1),n=Object(s.a)(t,2),i=n[0],c=n[1],o=Object(a.useRef)(null),u=Object(a.useState)(0),l=Object(s.a)(u,2),d=l[0],m=l[1],f=Object(a.useState)(108),p=Object(s.a)(f,1)[0],b=function(t,n){var a=t.percent.y;e.audio.volume=1-a/100};return Object(a.useEffect)((function(){m(qe({left:100*e.audio.volume,right:p}).toNumber())}),[i,p,e.audio.volume]),r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{link:!0,size:"big",name:"volume up",onClick:function(){c(!i)}}),r.a.createElement("div",{className:"volume-container"},i&&r.a.createElement("div",{className:"volume-slider"},r.a.createElement("div",{className:"volume-bg-layer",ref:o},r.a.createElement(nn.a,{width:"12px",height:"100px",points:[{x:0,y:108-d,width:12,height:12,style:{marginLeft:"1px",borderRadius:"7px",backgroundColor:"var(--high-text-color)"}}],axis:"y",movable:!0,onSlide:b,onStop:b})))))},rn=function(e){var t=e.remaining,n=void 0!==t&&t,i=e.elapsed,c=void 0===i?!n:i,o=e.current,u=e.duration,l=void 0===u?0:u,s=e.active,d=e.timeFormat,m=void 0===d?"%H:%m:%s":d,f=e.onCount,p=e.visible,v=void 0===p||p,b=function(e){return e<10?"0".concat(e):e},g={"%m":b,"%s":b},h=Object(a.useRef)(o),E=Object(a.useRef)();return Object(a.useEffect)((function(){if(!E.current&&s)E.current=setInterval((function(){h.current++;var e=h.current;s&&f&&f(c?e:l-e)}),1e3);else if(!s){var e=E.current;clearInterval(e),E.current=null}}),[s,c,l,f]),Object(a.useEffect)((function(){h.current=o<1?0:o}),[o,l]),Object(a.useEffect)((function(){return function(){var e=E.current;clearInterval(e),E.current=null}}),[]),v?r.a.createElement("span",null,Object(Ie.a)(c?h.current:l-h.current,m,{setters:g})):null};function cn(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current}var on={controls:function(e){var t=e.visibilities,n=void 0===t?{}:t,a=e.extra,i=void 0===a?{}:a,c=Se(),o=c.isPlaying,u=c.isLoading,l=c.play,s=c.back,d=c.forward,m=c.currentMix,f=me(),p=f.canGoBack,b=f.canGoForward,g=f.equalToActiveHistory,h=f.getSeconds,E=n.volume,O=void 0===E||E,j=i.iconSize,y=void 0===j?"big":j,w=0;return!O&&w++,r.a.createElement(k.a,{className:"player-controls"},r.a.createElement(k.a.Row,{columns:4-w},r.a.createElement(k.a.Column,{className:"reset-column"},r.a.createElement(v.a,{link:!0,size:y,name:"step backward",disabled:u||!p,onClick:s})),r.a.createElement(k.a.Column,{className:"reset-column"},r.a.createElement(v.a,{link:!0,size:y,name:o?"pause":u?"sync alternate":"play",loading:u,disabled:u,onClick:function(){l(m,g(null===m||void 0===m?void 0:m.id)?h():0)}})),r.a.createElement(k.a.Column,{className:"reset-column"},r.a.createElement(v.a,{link:!0,size:y,name:"step forward",disabled:u||!b,onClick:d})),O&&r.a.createElement(k.a.Column,{className:"reset-column",textAlign:"center"},r.a.createElement(an,null))))},info:function(){var e=Se().currentMix;return r.a.createElement(k.a,{className:"player-info reset"},r.a.createElement(k.a.Row,{columns:"2",verticalAlign:"middle"},r.a.createElement(k.a.Column,{width:"5",className:"info-image"},r.a.createElement(P,{alt:"".concat(null===e||void 0===e?void 0:e.series.name," ").concat(null===e||void 0===e?void 0:e.count),centered:!0,src:null===e||void 0===e?void 0:e.image,width:"50"})),r.a.createElement(k.a.Column,{width:"10",className:"info-text"},r.a.createElement("div",{className:"desc word-limit bold",title:"Trance Symphony 044"},null===e||void 0===e?void 0:e.series.name," ",null===e||void 0===e?void 0:e.count),r.a.createElement("div",{className:"presenter word-limit"},"by ",null===e||void 0===e?void 0:e.artist.name),(null===e||void 0===e?void 0:e.description)&&r.a.createElement("div",{title:null===e||void 0===e?void 0:e.description,className:"word-limit"},null===e||void 0===e?void 0:e.description))))},timeline:function(){var e,t=Se(),n=t.service.audio,i=t.partNumber,c=t.currentMix,o=t.isPlaying,u=t.hasError,l=t.seek,d=t.saveSeconds,m=t.getSeconds,f=n.currentTime,p=Object(a.useState)(f||m()),v=Object(s.a)(p,2),b=v[0],g=v[1],h=Object(a.useState)(0),E=Object(s.a)(h,2),O=E[0],j=E[1],y=Object(a.useRef)(null),w=Object(a.useRef)(c?xe(c):0),N=Object(a.useRef)(m()),S=Object(a.useRef)(c),A=cn(null===c||void 0===c?void 0:c.id);return Object(a.useEffect)((function(){(je(null===c||void 0===c?void 0:c.mixType)||(null===c||void 0===c?void 0:c.id)!==A)&&(j(0),g(0)),w.current=xe(c,i),S.current=c}),[c,i,A]),Object(a.useEffect)((function(){u&&(j(0),g(0))}),[u]),Object(a.useEffect)((function(){var e,t=w.current,n=N.current,a=(null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.clientWidth)||0;j(qe({left:n,right:t}).map((function(e){var t=e.toPercent;return qe({left:a,right:t()})})).toNumber()),g(n)}),[]),r.a.createElement(k.a,{className:"timeline reset"},r.a.createElement(k.a.Row,{columns:2,verticalAlign:"middle"},r.a.createElement(k.a.Column,{width:"2",textAlign:"right",className:"reset-column duration",style:{width:"50px!important"}},r.a.createElement(rn,{current:b,duration:w.current,active:o,onCount:function(e){var t,n=(null===y||void 0===y||null===(t=y.current)||void 0===t?void 0:t.clientWidth)||0;j(qe({left:e,right:w.current}).map((function(e){var t=e.toPercent;return qe({left:n,right:t()})})).toNumber()),d(e)}})),r.a.createElement(x.a,{fireOnMount:!0,as:k.a.Column,width:12,onUpdate:function(e,t){(y.current||document.getElementById("tl-wrapper"))&&g(n.currentTime)}},r.a.createElement("div",{ref:y,id:"tl-wrapper"},r.a.createElement(nn.a,{width:"".concat((null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.clientWidth)||"100%","px"),height:"15px",points:[{x:O,y:0,width:12,height:12,style:{borderRadius:"7px",marginTop:"1px",backgroundColor:"var(--high-text-color)"}}],axis:"x",onSlide:function(e){var t=S.current;t&&function(e,t){var n,a=e.x,r=(null===(n=y.current)||void 0===n?void 0:n.clientWidth)||0,i=w.current,c=void 0===i?0:i,o=qe({left:a,right:r}).map((function(e){var t=e.toPercent;return qe({left:c,right:t()})})).toNumber();g(o),t&&l(o,t)}(e,t)},movable:!0}))),r.a.createElement(k.a.Column,{width:"2",className:"reset-column duration",textAlign:"left"},r.a.createElement(rn,{remaining:!0,current:b,duration:w.current,active:o}))))},actions:en},un=function(){var e=Se(),t=e.service.audio,n=e.currentMix,i=e.partNumber,c=e.isPlaying,o=e.hasError,u=e.saveSeconds,l=e.getSeconds,d=t.currentTime,m=Object(a.useState)(d||l()),f=Object(s.a)(m,2),p=f[0],v=f[1],b=Object(a.useState)(0),g=Object(s.a)(b,2),h=g[0],E=g[1],O=Object(a.useRef)(null),j=Object(a.useRef)(n?xe(n):0),y=Object(a.useRef)(l()),w=cn(n),N=cn(null===n||void 0===n?void 0:n.id);return Object(a.useEffect)((function(){(je(null===n||void 0===n?void 0:n.mixType)||(null===n||void 0===n?void 0:n.id)!==N)&&(E(0),v(0)),j.current=xe(n,i)}),[n,i,N]),Object(a.useEffect)((function(){o&&(E(0),v(0))}),[o]),Object(a.useEffect)((function(){var e;if(!w){var t=j.current,n=y.current,a=(null===O||void 0===O||null===(e=O.current)||void 0===e?void 0:e.clientWidth)||0;E(qe({left:n,right:t}).map((function(e){var t=e.toPercent;return qe({left:a,right:t()})})).toNumber()),v(n)}}),[w]),r.a.createElement("div",{ref:O,id:"mini-tl-wrapper"},r.a.createElement(x.a,{fireOnMount:!0,className:"mini-content",as:"div",width:12,onUpdate:function(){(O.current||document.getElementById("mini-tl-wrapper"))&&v(t.currentTime)}},r.a.createElement("div",{style:{width:"".concat(h,"px")}}),r.a.createElement(rn,{visible:!1,current:p,duration:j.current,active:c,onCount:function(e){var t,n=(null===O||void 0===O||null===(t=O.current)||void 0===t?void 0:t.clientWidth)||0;E(qe({left:e,right:j.current}).map((function(e){var t=e.toPercent;return qe({left:n,right:t()})})).toNumber()),u(e)}})))},ln=function(e){Object(Qt.a)(n,e);var t=Object(qt.a)(n);function n(){var e;Object(fe.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={containerWidth:0},e.onUpdate=function(t,n){e.setState({containerWidth:window.innerWidth})},e}return Object(pe.a)(n,[{key:"render",value:function(){var e=this.state.containerWidth,t=(Zt.find((function(t){return(0,t.check)(e)}))||{}).columns,n=void 0===t?[]:t;return r.a.createElement(l.a,{fluid:!0,className:"mainPlayer reset"},r.a.createElement(x.a,{fireOnMount:!0,as:k.a,className:"reset full-height",onUpdate:this.onUpdate},!n.find((function(e){return"timeline"===e.name}))&&r.a.createElement(k.a.Row,{className:"mini-timeline"},r.a.createElement(k.a.Column,null,r.a.createElement(un,null))),r.a.createElement(k.a.Row,null,n.map((function(e,t){var n=e.width,a=e.name,i=e.className,c=void 0===i?"":i,o=e.visibilities,u=void 0===o?{}:o,l=e.extra,s=void 0===l?{}:l,d=ie()(a,on);return r.a.createElement(k.a.Column,{key:t,verticalAlign:"middle",width:n,className:"".concat(c," ").concat(a)},d&&r.a.createElement(d,{visibilities:u,extra:s}))})))))}}]),n}(r.a.Component);n(528);var sn=function(){var e=Object(a.useContext)(S.a).PrivateRoute,t=Se().isVisible,n=me().length;return r.a.createElement(o.a,null,r.a.createElement(l.a,{fluid:!0,className:"App"},r.a.createElement(w,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,null),r.a.createElement(z,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(rt,null)),r.a.createElement(u.b,{exact:!0,path:"/genres/:slug",component:Wt}),r.a.createElement(u.b,{exact:!0,path:"/series/:slug",component:Bt}),r.a.createElement(u.b,{exact:!0,path:"/artists/:slug",component:Jt}),r.a.createElement(e,{path:"/account"},r.a.createElement(xt,null)),r.a.createElement(e,{path:"/favorites"},r.a.createElement(_t,null))))),t&&n&&r.a.createElement(ln,null)),r.a.createElement(H,null),r.a.createElement(st,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dn=n(66),mn=function(e){var t=e.children;ze.a.init();var n=Object(b.c)();return Object(a.useEffect)((function(){return ze.a.auth().onAuthStateChanged((function(e){n(Object(dn.a)(e))}))}),[n]),r.a.createElement(r.a.Fragment,null,t)},fn=Object(a.createContext)({}),pn=function(e){var t,i=e.children,c=Object(a.useState)(!1),o=Object(s.a)(c,2),u=o[0],l=o[1],d=Object(a.useState)(),m=Object(s.a)(d,2),f=m[0],p=m[1],v=Object(a.useState)(),b=Object(s.a)(v,2),g=b[0],h=b[1];return t=f&&n(529)("./".concat(f)).default,r.a.createElement(fn.Provider,{value:{get:function(e){return{open:function(t){p(e),l(!0),h(t)},close:function(){return l(!1)}}}}},!!t&&u&&r.a.createElement(t,Object.assign({},g,{visibility:u,close:function(){return l(!1)}})),i)},vn=n(112),bn=n(95),gn=n(84),hn=function(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e})),n=t.series.loaded,r=t.genres.loaded,i=t.artists.loaded,c=t.auth.user;return Object(a.useEffect)((function(){Ye("load app dependencies"),e(function(){var e=Object(_e.a)(Fe.a.mark((function e(t){var n,a,r,i,c;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Object(vn.c)()),n=ze.a.db.collection("series"),e.next=5,n.get();case 5:a=e.sent,r=a.docs,i=void 0===r?[]:r,t(Object(vn.b)(We(i))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),c=e.t0.message,t(Object(vn.d)(c));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(_e.a)(Fe.a.mark((function e(t){var n,a,r,i,c;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Object(bn.d)()),n=ze.a.db.collection("genres").where("isActive","==",!0),e.next=5,n.get();case 5:a=e.sent,r=a.docs,i=We(void 0===r?[]:r),t(Object(bn.c)(i)),t(Object(bn.b)(i)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),c=e.t0.message,t(Object(bn.e)(c));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(_e.a)(Fe.a.mark((function e(t){var n,a,r,i,c;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Object(gn.c)()),n=ze.a.db.collection("artists"),e.next=5,n.orderBy("lastMixCreatedAt","desc").get();case 5:a=e.sent,r=a.docs,i=We(void 0===r?[]:r),t(Object(gn.b)(i)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),c=e.t0.message,t(Object(gn.d)(c));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(a.useEffect)((function(){i&&Xe("load app dependencies")}),[i,n,r]),Object(a.useEffect)((function(){c&&e(Object(Te.b)(c.uid))}),[c,e]),null},En=ge.onLoadStart,On=ge.onLoadedData,jn=ge.onPause,yn=ge.onPlay,wn=ge.onPlaying,xn=ge.onError,Nn=ge.onWaiting,Sn=ge.onAbort,kn=ge.onEnded,An=$e.a.dispatch,Cn=Object(T.a)("HISTORY"),In=Cn.storageKey,Pn=Cn.lastMixStorageKey,Rn=Cn.partStorageKey,Tn=function(e){Object(Qt.a)(n,e);var t=Object(qt.a)(n);function n(){var e;Object(fe.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onLoadStart$=void 0,e.onLoadedData$=void 0,e.onPlay$=void 0,e.onPause$=void 0,e.onPlaying$=void 0,e.onWaiting$=void 0,e.onError$=void 0,e.onAbort$=void 0,e.onEnded$=void 0,e.onLoadStartHandler=function(){console.log("load start")},e.onLoadedDataHandler=function(){An(Object(le.a)()),e.props.isSilent||ge.play()},e.onPauseHandler=function(){An(Object(le.g)()),console.log("pause")},e.onPlayingHandler=function(){console.log("playing"),An(Object(le.i)())},e.onPlayHandler=function(){An(Object(le.h)()),console.log("play")},e.onErrorHandler=function(e){An(Object(le.c)()),console.log("error",e)},e.onAbortHandler=function(e){console.log("abort",e)},e.onWaitingHandler=function(){console.log("waiting"),An(Object(le.j)())},e.onEndedHandler=function(){console.log("ended");var t=e.props,n=t.currentMix,a=t.mainPlayer;if(n){var r=n.mixType,i=n.parts,c=a.partNumber;(Oe(r)||je(r))&&ye(i,c)&&e.nextPart(n)}},e.render=function(){return null},e}return Object(pe.a)(n,[{key:"componentWillUnmount",value:function(){var e,t,n,a,r,i,c,o,u;null===(e=this.onLoadStart$)||void 0===e||e.unsubscribe(),null===(t=this.onLoadedData$)||void 0===t||t.unsubscribe(),null===(n=this.onPlay$)||void 0===n||n.unsubscribe(),null===(a=this.onPause$)||void 0===a||a.unsubscribe(),null===(r=this.onPlaying$)||void 0===r||r.unsubscribe(),null===(i=this.onWaiting$)||void 0===i||i.unsubscribe(),null===(c=this.onError$)||void 0===c||c.unsubscribe(),null===(o=this.onAbort$)||void 0===o||o.unsubscribe(),null===(u=this.onEnded$)||void 0===u||u.unsubscribe()}},{key:"componentDidMount",value:function(){var e=this.props.historyLength;this.setEvents(),e&&this.setHistory()}},{key:"componentDidUpdate",value:function(e){var t=e.historyLength,n=e.historyPointer,a=this.props,r=a.historyLength,i=a.historyPointer;r===t&&i===n||this.saveHistory()}},{key:"nextPart",value:function(e){var t=this.props.mainPlayer.partNumber,n=we(e.parts,t);if(n){var a=n.partNumber,r=Ee(e,a);r&&(An(Object(le.d)(a)),ge.load(r),sessionStorage.setItem(Rn,String(a)))}}},{key:"setEvents",value:function(){this.onLoadStart$=En.subscribe(this.onLoadStartHandler),this.onLoadedData$=On.subscribe(this.onLoadedDataHandler),this.onWaiting$=Nn.subscribe(this.onWaitingHandler),this.onPause$=jn.subscribe(this.onPauseHandler),this.onPlay$=yn.subscribe(this.onPlayHandler),this.onPlaying$=wn.subscribe(this.onPlayingHandler),this.onError$=xn.subscribe(this.onErrorHandler),this.onAbort$=Sn.subscribe(this.onAbortHandler),this.onEnded$=kn.subscribe(this.onEndedHandler)}},{key:"saveHistory",value:function(){var e=this.props,t=e.historyPointer,n=e.history,a=void 0===n?[]:n;sessionStorage.setItem(In,JSON.stringify(a)),sessionStorage.setItem(Pn,String(t))}},{key:"setHistory",value:function(){var e=this.props,t=e.historyPointer,n=e.history,a=void 0===n?[]:n,r=a[null!==t&&void 0!==t?t:a.length-1];An(Object(le.e)(r))}}]),n}(r.a.Component),Mn=Object(b.b)((function(e){var t=e.playerHistory,n=e.mainPlayer;return{historyLength:t.length,history:t.history,historyPointer:t.pointer,isSilent:n.isSilent,isPaused:n.isPaused,currentMix:n.currentMix,mainPlayer:n}}))(Tn);c.a.render(r.a.createElement(b.a,{store:$e.a},r.a.createElement(mn,null,r.a.createElement(S.b,null,r.a.createElement(pn,null,r.a.createElement(sn,null),r.a.createElement(hn,null),r.a.createElement(Mn,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},54:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return d}));var a=n(18),r=n(81),i=Object(a.b)({name:"favouriteList",initialState:{pending:!1,loaded:!1,error:null,lastPartCount:0,mixes:[]},reducers:r.a}),c=i.actions,o=i.reducer,u=c.pending,l=c.fulfilled,s=c.fulfilledAppend,d=c.rejected;c.reset;t.a=o},55:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return v}));var a=n(18),r=Object(a.b)({name:"userFavourites",initialState:{pending:!1,loaded:!1,error:null,ids:[]},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e,t){e.ids=t.payload,e.pending=!1,e.loaded=!0},rejected:function(e,t){e.error=t.payload,e.pending=!1},addPending:function(e){e.pending=!0},addFulfilled:function(e,t){e.pending=!1;var n=t.payload;!e.ids.includes(n)&&e.ids.push(n)},addRejected:function(e,t){e.pending=!1,e.error=t.payload},removePending:function(e){e.pending=!0},removeFulfilled:function(e,t){e.pending=!1;var n=t.payload,a=e.ids.findIndex((function(e){return e===n}));-1!==a&&e.ids.splice(a,1)},removeRejected:function(e,t){e.pending=!1,e.error=t.payload}}}),i=r.actions,c=r.reducer,o=i.pending,u=i.fulfilled,l=i.rejected,s=i.addFulfilled,d=i.addPending,m=i.addRejected,f=i.removeFulfilled,p=i.removePending,v=i.removeRejected;t.d=c},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return E}));var a=n(9),r=n.n(a),i=n(22),c=n(17),o=n(18),u=n(24),l=n(66),s={pending:!1,profile:null},d=Object(o.b)({name:"profile",initialState:s,reducers:{pending:function(e){e.pending=!0,e.success=!1,e.error=null},fulfilled:function(e,t){e.profile=t.payload,e.pending=!1,e.error=null},success:function(e){e.success=!0},rejected:function(e,t){e.pending=!1,e.error=t.payload},reset:function(){return s}}}),m=function(){return function(e){try{e(b()),e(g(u.a.auth().currentUser))}catch(t){e(h(Object(c.a)({},t)))}}},f=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,c,o,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(b()),a=e.displayName,i=e.photoUrl,c=u.a.auth().currentUser,t.next=6,null===c||void 0===c?void 0:c.updateProfile({displayName:a,photoURL:i});case 6:return t.next=8,null===c||void 0===c?void 0:c.reload();case 8:o=u.a.currentUser,n(O()),n(g(o)),n(Object(l.c)(o)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),s=t.t0.message,n(h(s));case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},p=d.actions,v=d.reducer,b=p.pending,g=p.fulfilled,h=p.rejected,E=p.reset,O=p.success;t.a=v},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var a=n(9),r=n.n(a),i=n(22),c=n(18),o=Object(c.b)({name:"auth",initialState:{pending:!1,user:null},reducers:{update:function(e,t){e.user=t.payload}}}),u=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(d(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=o.actions,s=o.reducer,d=l.update;t.b=s},71:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s}));var a=n(17),r=n(18),i={messages:[]},c=Object(r.b)({name:"toast",initialState:i,reducers:{publish:function(e,t){var n=e.messages.length,r=t.payload.key,i=void 0===r?n:r;e.messages.push(Object(a.a)({},t.payload,{key:i}))},remove:function(e,t){var n=e.messages,a=t.payload;e.messages=n.filter((function(e){return e.key!==a}))},reset:function(){return i}}}),o=c.actions,u=c.reducer,l=o.publish,s=o.remove;o.reset;t.a=u},72:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return d}));var a=n(18),r=n(167),i=Object(a.b)({name:"recentlyAddedMixes",initialState:{pending:!1,loaded:!1,normalized:!1,error:null,mixes:[]},reducers:r.a}),c=i.actions,o=i.reducer,u=c.pending,l=c.fulfilled,s=c.normalized,d=c.rejected;t.a=o},81:function(e,t,n){"use strict";var a=n(34),r={pending:function(e){e.pending=!0},fulfilled:function(e,t){e.mixes=t.payload,e.lastPartCount=t.payload.length,e.pending=!1,e.loaded=!0},fulfilledAppend:function(e,t){e.mixes=[].concat(Object(a.a)(e.mixes),Object(a.a)(t.payload)),e.lastPartCount=t.payload.length,e.pending=!1,e.loaded=!0},rejected:function(e,t){e.error=t.payload,e.pending=!1},reset:function(e){e.mixes=[]}};t.a=r},84:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l}));var a=n(18),r=Object(a.b)({name:"artists",initialState:{pending:!1,loaded:!1,error:null,artists:[]},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e,t){e.artists=t.payload,e.pending=!1,e.loaded=!0},rejected:function(e,t){e.error=t.payload,e.pending=!1}}}),i=r.actions,c=r.reducer,o=i.pending,u=i.fulfilled,l=i.rejected;t.a=c},94:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f}));var a=n(9),r=n.n(a),i=n(22),c=n(24),o=n(55),u=n(46),l=n(28),s=Object(l.b)("USER").FAVOURITES,d=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,u,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Object(o.f)()),a=c.a.db.collection("users").doc(e),t.next=5,a.get();case 5:i=t.sent.data(),u=i.favourites,l=void 0===u?[]:u,n(Object(o.e)(l)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n(Object(o.g)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t){return function(){var n=Object(i.a)(r.a.mark((function n(a){var i,l,d,m;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(Object(o.b)()),i=c.a.db.collection("users").doc(e),n.next=5,i.get();case 5:return l=n.sent.data(),d=l.favourites,(m=void 0===d?[]:d).includes(t)||m.push(t),n.next=11,i.update({favourites:m});case 11:a(Object(o.a)(t)),u.b(s.ADDED),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),u.a(n.t0.message),a(Object(o.c)(n.t0));case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e,t){return function(){var n=Object(i.a)(r.a.mark((function n(a){var i,l,d,m,f;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(Object(o.i)()),i=c.a.db.collection("users").doc(e),n.next=5,i.get();case 5:return l=n.sent.data(),d=l.favourites,-1!==(f=(m=void 0===d?[]:d).findIndex((function(e){return e===t})))&&m.splice(f,1),n.next=12,i.update({favourites:m});case 12:a(Object(o.h)(t)),u.b(s.REMOVED),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(0),u.a(n.t0.message),a(Object(o.j)(n.t0));case 20:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e){return n.apply(this,arguments)}}()}},95:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return s}));var a=n(18),r=Object(a.b)({name:"genres",initialState:{pending:!1,loaded:!1,error:null,genres:[],featuredGenres:[]},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e,t){e.genres=t.payload,e.pending=!1,e.loaded=!0},featuredFulfilled:function(e,t){e.featuredGenres=t.payload.filter((function(e){return e.featured})),e.loaded=!0},rejected:function(e,t){e.error=t.payload,e.pending=!1}}}),i=r.actions,c=r.reducer,o=i.pending,u=i.fulfilled,l=i.featuredFulfilled,s=i.rejected;t.a=c}},[[332,1,2]]]);
//# sourceMappingURL=main.4b412b55.chunk.js.map