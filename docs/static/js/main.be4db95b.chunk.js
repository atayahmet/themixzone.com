(this["webpackJsonptmz-core"]=this["webpackJsonptmz-core"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n(21),i=n(10),c=n(0),o=n.n(c),l=n(57),u=n(320),s=n(86),d=n(217),m=n(163),f=n(29),p=n(8),b=n(43),v=Object(f.b)("AUTH").LOGIN_MODAL;t.default=function(e){var t=e.open,n=void 0!==t&&t,f=e.close,g=void 0===f?function(){return null}:f,h=Object(p.c)(),E=Object(c.useContext)(b.a).openRegisterModal,O=Object(p.d)((function(e){return e.auth})).user,j=Object(p.d)((function(e){return e.login||{}})),y=j.success,w=j.error,x=j.pending,N=Object(c.useState)({email:"",password:""}),S=Object(i.a)(N,2),k=S[0],A=S[1],C=Object(c.useState)(""),I=Object(i.a)(C,2),P=I[0],R=I[1],T=function(e){var t=e.target,n=t.name,i=t.value;A(Object(r.a)({},k,Object(a.a)({},n,i)))},M=function(){g(),R(""),A({email:"",password:""})};Object(c.useEffect)((function(){O&&g()}),[O,g]),Object(c.useEffect)((function(){w&&R(w)}),[x,y,w]);var L=k.email,U=k.password;return o.a.createElement(l.a,{className:"login-modal",size:"mini",open:n,dimmer:"blurring",onClose:M,closeOnEscape:!0,closeOnDimmerClick:!0,closeIcon:!0},o.a.createElement(l.a.Header,{as:"h1"},v.HEADER,"!"),o.a.createElement(l.a.Content,null,P&&o.a.createElement(u.a,{color:"brown"},P),o.a.createElement(s.a,{autoComplete:"off"},o.a.createElement(s.a.Input,{autoComplete:"off",name:"email",size:"large",fluid:!0,label:"Email",value:L,onChange:T,placeholder:"Email",className:"auth-input\n              ".concat(L?"":"empty","\n              ").concat(P&&!L?"auth-input-error":"")}),o.a.createElement(s.a.Input,{autoComplete:"off",name:"password",type:"password",size:"large",fluid:!0,label:"Password",value:U,onChange:T,placeholder:"Password",className:"auth-input\n              ".concat(U?"":"empty","\n              ").concat(P&&!U?"auth-input-error":"","\n            ")}),o.a.createElement(s.a.Checkbox,{label:v.REMEMBER_TEXT}))),o.a.createElement(l.a.Actions,null,o.a.createElement(d.a,{positive:!0,size:"big",onClick:function(){var e=Object.keys(k).every((function(e){return!!k[e]}));R(e?"":v.FORM_EMPTY_ERROR),e&&h(Object(m.b)(k))},disabled:x,content:v.BUTTON_TITLE}),o.a.createElement("div",{className:"login-actions-item"},v.REGISTER_QUESTION_TEXT,"?"," ",o.a.createElement("a",{onClick:function(){M(),E()},href:"#/"},v.REGISTER_ACTION_TEXT))))}},102:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n(21),i=n(10),c=n(0),o=n.n(c),l=n(57),u=n(320),s=n(86),d=n(217),m=n(164),f=n(29),p=n(8),b=n(43),v=Object(f.b)("AUTH").REGISTER_MODAL,g=v.HEADER,h=v.DEFAULT_SUBJECT,E=v.FORM_EMPTY_ERROR,O=v.LOGIN_QUESTION_TEXT,j=v.LOGIN_ACTION_TEXT;t.default=function(e){var t=e.open,n=void 0!==t&&t,f=e.close,v=Object(p.c)(),y=Object(p.d)((function(e){return e.auth})).user,w=Object(p.d)((function(e){return e.register})),x=w.success,N=w.error,S=w.pending,k=Object(c.useState)({name:"",email:"",password:""}),A=Object(i.a)(k,2),C=A[0],I=A[1],P=Object(c.useState)(""),R=Object(i.a)(P,2),T=R[0],M=R[1],L=Object(c.useState)(h),U=Object(i.a)(L,2),D=U[0],F=U[1],_=function(e){var t=e.target,n=t.name,i=t.value;I(Object(r.a)({},C,Object(a.a)({},n,i)))},z=function(){f(),M(""),F(h),I({name:"",email:"",password:""})};Object(c.useEffect)((function(){y&&f()}),[y,f]),Object(c.useEffect)((function(){N&&M(N)}),[x,S,N]);var H=C.name,W=C.email,G=C.password,V=Object(c.useContext)(b.a).openLoginModal;return o.a.createElement(l.a,{className:"login-modal",size:"mini",open:n,dimmer:"blurring",onClose:z,closeOnEscape:!0,closeOnDimmerClick:!0,closeIcon:!0},o.a.createElement(l.a.Header,{as:"h1"},g.replace("{0}",D),"!"),o.a.createElement(l.a.Content,null,T&&o.a.createElement(u.a,{color:"brown"},T),o.a.createElement(s.a,{autoComplete:"off"},o.a.createElement(s.a.Input,{autoComplete:"off",name:"name",size:"large",fluid:!0,label:"Name",value:H,onChange:_,onBlur:function(){return F(H||h)},placeholder:"Name",className:"auth-input\n              ".concat(H?"":"empty","\n              ").concat(T&&!H?"auth-input-error":"")}),o.a.createElement(s.a.Input,{autoComplete:"off",name:"email",size:"large",fluid:!0,label:"Email",value:W,onChange:_,placeholder:"Email",className:"auth-input\n              ".concat(W?"":"empty","\n              ").concat(T&&!W?"auth-input-error":"")}),o.a.createElement(s.a.Input,{autoComplete:"off",name:"password",type:"password",size:"large",fluid:!0,label:"Password",value:G,onChange:_,placeholder:"Password",className:"auth-input\n              ".concat(G?"":"empty","\n              ").concat(T&&!G?"auth-input-error":"","\n            ")}))),o.a.createElement(l.a.Actions,null,o.a.createElement(d.a,{positive:!0,content:"Register",size:"big",onClick:function(){var e=Object.keys(C).every((function(e){return!!C[e]}));M(e?"":E),e&&v(Object(m.b)(Object(r.a)({},C,{sendVerifyEmail:!0})))}}),o.a.createElement("div",{className:"login-actions-item"},O,"?"," ",o.a.createElement("a",{onClick:function(){z(),V()},href:"#/"},j))))}},108:function(e,t,n){e.exports=n.p+"static/media/logo.2a9450b5.svg"},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return h}));var a=n(9),r=n.n(a),i=n(22),c=n(17),o=n(24),l=n(65),u=n(60),s={pending:!1,email:null},d=Object(c.b)({name:"changeEmail",initialState:s,reducers:{pending:function(e){e.pending=!0,e.success=!1,e.error=null},fulfilled:function(e,t){e.email=t.payload,e.pending=!1,e.success=!0},rejected:function(e,t){e.pending=!1,e.error=t.payload},reset:function(){return s}}}),m=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(b()),a=o.a.auth().currentUser,t.next=5,null===a||void 0===a?void 0:a.updateEmail(e);case 5:return t.next=7,null===a||void 0===a?void 0:a.reload();case 7:return t.next=9,null===a||void 0===a?void 0:a.sendEmailVerification();case 9:i=o.a.currentUser,n(Object(l.c)(i)),n(Object(u.c)(i)),n(v(i.email)),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),t.t0.code,c=t.t0.message,n(g(c));case 20:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},f=d.actions,p=d.reducer,b=f.pending,v=f.fulfilled,g=f.rejected,h=f.reset;t.b=p},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return v}));var a=n(9),r=n.n(a),i=n(22),c=n(17),o=n(24),l={pending:!1},u=Object(c.b)({name:"changePassword",initialState:l,reducers:{pending:function(e){e.pending=!0,e.success=!1,e.error=null},fulfilled:function(e){e.pending=!1,e.success=!0},rejected:function(e,t){e.pending=!1,e.error=t.payload},reset:function(){return l}}}),s=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(f()),a=o.a.auth().currentUser,t.next=5,null===a||void 0===a?void 0:a.updatePassword(e);case 5:return t.next=7,null===a||void 0===a?void 0:a.reload();case 7:n(p()),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.code,i=t.t0.message,n(b(i));case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},d=u.actions,m=u.reducer,f=d.pending,p=d.fulfilled,b=d.rejected,v=d.reset;t.b=m},112:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u}));var a=n(17),r=Object(a.b)({name:"series",initialState:{pending:!1,loaded:!1,error:null,series:[]},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e,t){e.series=t.payload,e.pending=!1,e.loaded=!0},rejected:function(e,t){e.error=t.payload,e.pending=!1}}}),i=r.actions,c=r.reducer,o=i.pending,l=i.fulfilled,u=i.rejected;t.a=c},113:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return E}));var a,r=n(34),i=n(17),c=n(29),o=Object(c.a)("HISTORY"),l=o.storageKey,u=o.lastMixStorageKey,s=JSON.parse(sessionStorage.getItem(l)||"[]"),d=parseInt(null!==(a=sessionStorage.getItem(u))&&void 0!==a?a:""),m=s.length,f={history:s,length:m,pointer:isNaN(d)?m>0?m-1:null:d},p=Object(i.b)({name:"playerHistory",initialState:f,reducers:{push:function(e,t){var n=e.history,a=e.pointer,i=t.payload;if(null===a||n[a].id!==i.id){var c=n.slice(0,(null!==a&&void 0!==a?a:0)+1);e.pointer=c.length,e.history=[].concat(Object(r.a)(c),[i]),e.length=c.length+1}},forward:function(e){var t=e.history,n=e.pointer,a=null!==n?n+1:0;return{length:e.length,history:t,pointer:t[a]?a:n}},back:function(e){var t=e.history,n=e.pointer,a=null!==n?n-1:0;return{length:e.length,history:t,pointer:t[a]?a:n}}}}),b=p.actions,v=p.reducer,g=b.push,h=b.forward,E=b.back;t.b=v},131:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(17),r={isEmpty:!0,cases:[]},i=Object(a.b)({name:"screenIndicator",initialState:r,reducers:{insert:function(e,t){e.cases.push(t.payload),e.isEmpty=!1},remove:function(e,t){var n=t.payload,a=e.cases.filter((function(e){return e.name!==n}));e.cases=a,e.isEmpty=!a.length},reset:function(){return r}}}),c=i.actions,o=i.reducer,l=c.insert,u=c.remove;c.reset;t.a=o},158:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(57);t.default=function(e){var t=e.visibility,n=e.close,a=e.name;return r.a.createElement(i.a,{open:t,className:"login-modal",size:"mini",dimmer:"blurring",closeOnEscape:!0,closeOnDimmerClick:!0,closeIcon:!0,onClose:n},r.a.createElement(i.a.Header,{as:"h1"},"Test Modal!"),r.a.createElement(i.a.Content,null),r.a.createElement(i.a.Actions,null,a," Actions!"))}},163:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(9),r=n.n(a),i=n(22),c=n(17),o=n(24),l=n(94),u=Object(c.b)({name:"login",initialState:{pending:!1},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e){e.pending=!1,e.success=!0},rejected:function(e,t){var n=t.payload.message;e.error=n,e.pending=!1,e.success=!1}}}),s=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,c,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(f()),t.next=4,o.a.persistentce();case 4:return a=e.email,i=e.password,t.next=7,o.a.login(a,i);case 7:c=t.sent,u=c.user,n(p()),u&&Object(l.b)(u.uid)(n),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n(b(t.t0.toJSON()));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},d=u.actions,m=u.reducer,f=d.pending,p=d.fulfilled,b=d.rejected;t.a=m},164:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var a=n(9),r=n.n(a),i=n(22),c=n(17),o=n(24),l=Object(c.b)({name:"register",initialState:{pending:!1},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e){e.pending=!1,e.success=!0},rejected:function(e,t){var n=t.payload.message;e.error=n,e.pending=!1,e.success=!1}}}),u=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(m()),t.next=4,o.a.register(e);case 4:n(f()),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),a=t.t0.code,i=t.t0.message,n(p({code:a,message:i}));case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},s=l.actions,d=l.reducer,m=s.pending,f=s.fulfilled,p=s.rejected;t.a=d},165:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(9),r=n.n(a),i=n(22),c=n(17),o=n(24),l={pending:!1},u=Object(c.b)({name:"logout",initialState:l,reducers:{pending:function(e){e.pending=!0},fulfilled:function(){return l},rejected:function(e,t){e.pending=!1}}}),s=function(){return function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(f()),e.next=4,o.a.logout();case 4:t(p()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(b(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},d=u.actions,m=u.reducer,f=d.pending,p=d.fulfilled,b=d.rejected;t.a=m},166:function(e,t,n){"use strict";t.a={pending:function(e){e.pending=!0},normalized:function(e,t){e.mixes=t.payload,e.normalized=!0},fulfilled:function(e,t){e.mixes=t.payload,e.pending=!1,e.loaded=!0,e.normalized=!1},rejected:function(e,t){e.error=t.payload,e.pending=!1}}},169:function(e,t,n){e.exports=n.p+"static/media/bars.ca49bba4.svg"},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(9),r=n.n(a),i=n(22),c=n(27),o=n(33),l=n(62),u=(n(436),n(438),n(47).a.FIREBASE.config),s=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"init",value:function(){l.initializeApp(u)}},{key:"persistentce",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.auth().setPersistence(l.auth.Auth.Persistence.LOCAL);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(i.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.auth().signInWithEmailAndPassword(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"register",value:function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,c,o,u,s,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.name,i=n.email,c=n.password,o=n.sendVerifyEmail,u=void 0!==o&&o,t.next=3,l.auth().createUserWithEmailAndPassword(i,c);case 3:if(s=t.sent,d=e.auth().currentUser,t.t0=d,!t.t0){t.next=9;break}return t.next=9,d.updateProfile({displayName:a});case 9:return d&&u&&d.sendEmailVerification(),t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.auth().signOut());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"auth",value:function(){return l.auth()}},{key:"currentUser",get:function(){return JSON.parse(JSON.stringify(e.auth().currentUser))}},{key:"db",get:function(){return l.firestore()}}]),e}()},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a={APP:{NAME:"Mix Zone"},AUTH:{LOGIN_MODAL:{HEADER:"Welcome, friend",FORM_EMPTY_ERROR:"Please enter the form completely",BUTTON_TITLE:"Login",REGISTER_QUESTION_TEXT:"Not a member yet",REGISTER_ACTION_TEXT:"Register",REMEMBER_TEXT:"Remember Me"},REGISTER_MODAL:{DEFAULT_SUBJECT:"friend",FORM_EMPTY_ERROR:"Please enter the form completely",HEADER:"Welcome, {0}",LOGIN_ACTION_TEXT:"Login",LOGIN_QUESTION_TEXT:"Do you already have an account"}},USER:{FAVOURITES:{ADDED:"The mix added to your favourites successfully.",REMOVED:"The mix removed from your favourites."}},ACCOUNT:{PROFILE:{SUCCESS:"Your profile updated successfully."},CHANGE_EMAIL:{SUCCESS:"You can complete this process by clicking the verification link in your email address."},CHANGE_PASSWORD:{SUCCESS:"Your password changed successfully"}},PLAYLIST:{ACTIONS:{ADD_TO_FAVOURITES:"Add to favorites",REMOVE_FROM_FAVOURITES:"Remove from favorites"}},MAIN_PLAYER:{ACTIONS:{ADD_TO_FAVOURITES:"Add to favorites",REMOVE_FROM_FAVOURITES:"Remove from favorites"}}},r=n(47),i=function(e){return a[e]},c=function(e){return r.a[e]}},316:function(e,t,n){e.exports=n.p+"static/media/heart.0f0a056e.svg"},331:function(e,t,n){e.exports=n(529)},336:function(e,t,n){},41:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return d}));var a=n(17),r=n(81),i=Object(a.b)({name:"artistDetail",initialState:{pending:!1,loaded:!1,error:null,lastPartCount:0,mixes:[]},reducers:r.a}),c=i.actions,o=i.reducer,l=c.pending,u=c.fulfilled,s=c.fulfilledAppend,d=c.rejected;c.reset;t.a=o},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(10),r=n(44),i=n(0),c=n.n(i),o=n(101),l=n(102),u=n(8),s=n(28),d=Object(i.createContext)({});d.displayName="Authentication Context";var m=function(e){var t=e.children,n=Object(r.a)(e,["children"]),a=Object(u.d)((function(e){return e.auth.user}));return c.a.createElement(s.b,Object.assign({},n,{render:function(){return a?t:c.a.createElement(s.a,{to:"/"})}}))};t.b=function(e){var t=e.children,n=Object(i.useState)(!1),r=Object(a.a)(n,2),u=r[0],s=r[1],f=Object(i.useState)(!1),p=Object(a.a)(f,2),b=p[0],v=p[1],g=function(){return s(!1)},h=function(){return v(!1)};return c.a.createElement(d.Provider,{value:{PrivateRoute:m,openLoginModal:function(){return s(!0)},closeLoginModal:g,openRegisterModal:function(){return v(!0)},closeRegisterModal:h}},c.a.createElement(c.a.Fragment,null,c.a.createElement(o.default,{close:g,open:u}),c.a.createElement(l.default,{close:h,open:b}),t))}},45:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(51),r=n(71),i=function(e,t){return a.a.dispatch(Object(r.b)({title:t,type:"success",content:e}))},c=function(e,t){return a.a.dispatch(Object(r.b)({title:t,type:"error",content:e}))}},46:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return p}));var a=n(17),r=Object(a.b)({name:"mainPlayer",initialState:{history:[],currentMix:null,isSilent:!1,isPlaying:!1,isPaused:!1,isVisible:!0,isLoading:!1,isLoaded:!1,hasError:!1},reducers:{loadSilent:function(e,t){e.currentMix=t.payload,e.isLoaded=!1,e.hasError=!1,e.isSilent=!0},loadStart:function(e,t){e.currentMix=t.payload,e.isLoading=!0,e.isLoaded=!1,e.isPlaying=!1,e.hasError=!1,e.isSilent=!1},loadError:function(e){e.isPlaying=!1,e.isLoading=!1,e.hasError=!0},dataLoaded:function(e){e.isLoading=!1,e.isLoaded=!0,e.hasError=!1},play:function(e){e.isPlaying=!1,e.isLoading=!1,e.isSilent=!1},playing:function(e){e.isPlaying=!0,e.isLoading=!1,e.isLoaded=!0,e.isPaused=!1,e.isSilent=!1},waiting:function(e){e.isLoading=!0,e.isLoaded=!1,e.isPlaying=!1},paused:function(e){e.isPlaying=!1,e.isPaused=!0},visibility:function(e,t){e.isVisible=t.payload}}}),i=r.actions,c=r.reducer,o=i.paused,l=i.playing,u=i.loadStart,s=i.loadSilent,d=i.loadError,m=i.dataLoaded,f=i.play,p=i.waiting;t.b=c},47:function(e,t,n){"use strict";t.a={FIREBASE:{config:{apiKey:"AIzaSyBtr1VFAEhT86xGJahM4NUSXKjyAKMtoqk",authDomain:"webplayer-230614.firebaseapp.com",databaseURL:"https://webplayer-230614.firebaseio.com",projectId:"webplayer-230614",storageBucket:"webplayer-230614.appspot.com",messagingSenderId:"357191565883",appId:"1:357191565883:web:cf7f1790240fa86c02521e"}},PAGINATION:{limit:10},HISTORY:{storageKey:"player_history",lastMixStorageKey:"player_history_pointer"}}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c}));var a=function(e,t,n){try{return t(e())}catch(a){return n(a)}},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("http")},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(){return Math.random()-.5}))},c=function(e){return e<10?"0".concat(e):e}},51:function(e,t,n){"use strict";var a,r=n(34),i=n(17),c=n(48),o=n(65),l=n(164),u=n(163),s=n(165),d=n(60),m=n(110),f=n(111),p=n(71),b=n(112),v=n(95),g=n(84),h=n(131),E=n(72),O=n(166),j=Object(i.b)({name:"lastMixesOfArtists",initialState:{pending:!1,loaded:!1,normalized:!1,error:null,mixes:[]},reducers:O.a}),y=j.actions,w=j.reducer,x=(y.pending,y.fulfilled,y.normalized,y.rejected,w),N=n(52),S=n(53),k=n(41),A=n(55),C=n(54),I=n(46),P=n(113),R=Object(c.c)({auth:o.b,register:l.a,login:u.a,logout:s.a,profile:d.a,changeEmail:m.b,changePassword:f.b,toast:p.a,series:b.a,genres:v.a,artists:g.a,screenIndicator:h.a,recentlyAddedMixes:E.a,lastMixesOfArtists:x,seriesDetail:N.a,genreDetail:S.a,artistDetail:k.a,userFavourites:A.d,favouriteList:C.a,mainPlayer:I.b,playerHistory:P.b}),T=n(266),M=n.n(T),L=n(125),U=n(21),D=n(25),F=n(50),_=function(e){return{displayName:e.displayName,email:e.email,photoUrl:e.photoURL,emailVerified:e.emailVerified,uid:e.uid}},z=function(e){return _(e)},H=function(e){return z(e)},W=function(e){return _(e)},G=n(27),V=n(33),B=n(37),$=n(38),Y=n(298),X=n.n(Y),J=n(208),K=n.n(J),q=function(){function e(){Object(G.a)(this,e)}return Object(V.a)(e,[{key:"toObject",value:function(){return K()(this,Object.keys(this))}}]),e}(),Q=function(e){Object($.a)(n,e);var t=Object(B.a)(n);function n(e){var a,r=e.id,i=e.artistId,c=e.seriesId,o=e.sourceId,l=e.trackListId,u=e.count,s=e.createdAt,d=e.image,m=e.duration,f=e.description,p=e.series,b=e.artist,v=e.genres;return Object(G.a)(this,n),(a=t.call(this)).id=void 0,a.artistId=void 0,a.seriesId=void 0,a.sourceId=void 0,a.trackListId=void 0,a.count=void 0,a.createdAt=void 0,a.image=void 0,a.duration=void 0,a.description=void 0,a.series=void 0,a.artist=void 0,a.genres=void 0,a.id=r,a.artistId=i,a.seriesId=c,a.sourceId=o,a.trackListId=l,a.count=u,a.createdAt=a.formatDate(s),a.image=d,a.duration=m,a.description=f||"",a.series=p,a.artist=b,a.genres=v,a}return Object(V.a)(n,[{key:"formatDate",value:function(e){return Object(U.a)({},e,{label:X.a.unix(e.seconds).format("D.MM.YYYY")})}}]),n}(q),Z=function(e){return e.map((function(e){return new Q(e).toObject()}))},ee=function(e){Object($.a)(n,e);var t=Object(B.a)(n);function n(e){var a,r=e.id,i=e.name,c=e.slug,o=e.image,l=e.genres,u=e.lastMixCreatedAt,s=e.lastMixTitle;return Object(G.a)(this,n),(a=t.call(this)).id=void 0,a.name=void 0,a.slug=void 0,a.image=void 0,a.genres=void 0,a.lastMixTitle=void 0,a.lastMixCreatedAt=void 0,a.id=r,a.name=i,a.slug=c,a.image=o,a.genres=l,a.lastMixTitle=s,a.lastMixCreatedAt=Object(U.a)({},u),a}return n}(q),te=function(e){return e.map((function(e){return new ee(e).toObject()}))},ne=(a={},Object(D.a)(a,d.c.toString(),H),Object(D.a)(a,o.c.toString(),W),Object(D.a)(a,E.b.toString(),Z),Object(D.a)(a,N.b.toString(),Z),Object(D.a)(a,N.c.toString(),Z),Object(D.a)(a,S.b.toString(),Z),Object(D.a)(a,S.c.toString(),Z),Object(D.a)(a,k.b.toString(),Z),Object(D.a)(a,k.c.toString(),Z),Object(D.a)(a,C.b.toString(),Z),Object(D.a)(a,C.c.toString(),Z),Object(D.a)(a,g.b.toString(),te),a),ae=function(e){var t=e.payload,n=e.type,a=ne[n],r=Object(F.a)((function(){return a(t)}),(function(e){return e}),(function(){return t}));return Object(U.a)({},e,{payload:r})},re=Object(i.a)({reducer:R,middleware:[L.a,function(e){return function(e){return function(t){return e(ae(t))}}},M.a].concat(Object(r.a)(Object(i.c)()))});t.a=re},52:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return d}));var a=n(17),r=n(81),i=Object(a.b)({name:"seriesDetail",initialState:{pending:!1,loaded:!1,error:null,lastPartCount:0,mixes:[]},reducers:r.a}),c=i.actions,o=i.reducer,l=c.pending,u=c.fulfilled,s=c.fulfilledAppend,d=c.rejected;c.reset;t.a=o},527:function(e,t,n){},528:function(e,t,n){var a={"./login":101,"./login/":101,"./login/index":101,"./login/index.tsx":101,"./register":102,"./register/":102,"./register/index":102,"./register/index.tsx":102,"./test":158,"./test/":158,"./test/index":158,"./test/index.tsx":158};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=528},529:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(68),c=n.n(i),o=(n(336),n(35)),l=n(28),u=n(540),s=n(10),d=n(544),m=n(216),f=n(317),p=n(318),b=n(96),v=n(8),g=function(e){var t=e.series;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Item,{as:"span",className:"title"},"Series"),t.map((function(e,t){var n=e.name,a=e.icon,i=e.slug;return r.a.createElement(f.a.Item,{as:o.b,key:t,to:"/series/".concat(i)},r.a.createElement(b.a,{name:a,size:"tiny"}),n)})))},h=function(e){var t=e.genres;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Item,{as:"span",className:"title"},"Genres"),t.slice(0,4).map((function(e,t){var n=e.name,a=e.slug;return r.a.createElement(f.a.Item,{as:o.b,key:t,to:"/genres/".concat(a)},r.a.createElement(b.a,{name:"tag",size:"tiny"}),n)})))},E=function(){var e=Object(v.d)((function(e){return e.auth})).user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Item,{as:"span",className:"title"},"Others"),e&&r.a.createElement(f.a.Item,{as:o.b,to:"/favorites"},r.a.createElement(b.a,{name:"heart",size:"tiny"}),"Favorites"),r.a.createElement(f.a.Item,{as:"a"},r.a.createElement(b.a,{name:"send",size:"tiny"}),"Send Your Mix"))},O=n(108),j=n.n(O),y=Object(a.createContext)({}),w=function(e){var t=e.children,n=Object(a.useState)(window.innerWidth>992),i=Object(s.a)(n,2),c=i[0],l=i[1],u=Object(v.d)((function(e){return e})),O=u.series,w=O.series,x=O.loaded,N=u.genres,S=N.featuredGenres,k=N.loaded,A=x&&k;return r.a.createElement(y.Provider,{value:{toggle:function(){return l(!c)},visibility:c}},r.a.createElement(d.a.Pushable,{as:m.a,className:"app-sidebar"},r.a.createElement(d.a,{as:f.a,animation:"push",icon:"labeled",vertical:!0,visible:c,width:"wide"},r.a.createElement(f.a.Header,null,r.a.createElement(p.a,{src:j.a,href:"/"})),A&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Item,{as:o.b,icon:!0,to:"/",exact:!0,name:"Home"},r.a.createElement(b.a,{name:"home",size:"tiny"}),"Home"),r.a.createElement(g,{series:w}),r.a.createElement(h,{genres:S}),r.a.createElement(E,null))),r.a.createElement(d.a.Pusher,{dimmed:!1},r.a.createElement(m.a,{basic:!0},t))))},x=n(548),N=n(539),S=n(43),k=n(319),A=n(542),C=n(165),I=n(44),P=function(e){return r.a.createElement(p.a,e)},R=n(50),T=n(29),M=Object(T.b)("APP").NAME,L=function(e){var t,n=e.content,a=null===(t=(void 0===n?M:n).match(/(\b[A-Za-z]{1})/g))||void 0===t?void 0:t.map((function(e){return e.trim()})).filter(Boolean).join("");return r.a.createElement("div",null,a)},U=function(e){var t=e.content,n=e.width,a=void 0===n?50:n,i=e.height,c=void 0===i?a:i,o=e.className,l=void 0===o?"":o,u=Object(I.a)(e,["content","width","height","className"]);t=t||M;var s=Object(R.b)(t);return r.a.createElement("div",{className:"avatar ".concat(l),style:{width:"".concat(a,"px"),height:"".concat(c,"px"),fontSize:"".concat(a/2.5,"px"),borderRadius:"".concat(a/2,"px")}},s&&r.a.createElement(P,Object.assign({circular:!0,size:"small",src:t},u)),!s&&r.a.createElement(L,Object.assign({content:t},u)))},D=function(e){var t=e.user,n=Object(l.g)(),a=Object(v.c)(),i=t||{},c=i.displayName,o=i.photoUrl;return r.a.createElement(k.a,{className:"user-menu"},r.a.createElement(k.a.Row,{columns:"2"},r.a.createElement(k.a.Column,{verticalAlign:"middle",textAlign:"center",className:"user-avatar",width:5},r.a.createElement(U,{width:35,className:"margin-auto",content:o||c}),r.a.createElement(A.a,{floating:!0,direction:"left"},r.a.createElement(A.a.Menu,null,r.a.createElement(A.a.Item,{onClick:function(){return n.push("/favorites")},icon:"heart",text:"My Favorites"}),r.a.createElement(A.a.Item,{onClick:function(){return n.push("/account")},icon:"user",text:"My Account"}),r.a.createElement(A.a.Item,{onClick:function(){return a(Object(C.b)())},icon:"sign-out",text:"Logout"})))),r.a.createElement(x.a,{as:k.a.Column,minWidth:650,textAlign:"left",className:"user-info word-limit",verticalAlign:"middle",width:11},c)))},F=function(){var e=Object(v.d)((function(e){return e.auth})).user,t=Object(a.useContext)(S.a).openLoginModal;return r.a.createElement(f.a,{pointing:!0,size:"large",className:"wide-navigation"},r.a.createElement(f.a.Menu,{position:"left"},r.a.createElement(f.a.Item,null,r.a.createElement(N.a,{icon:"search",iconPosition:"left",placeholder:"Search music..."}))),r.a.createElement(f.a.Menu,{position:"right"},r.a.createElement(f.a.Item,null,!e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{name:"sign in alternate"}),r.a.createElement("a",{onClick:function(){return t()},href:"#/"},"Login"),r.a.createElement(b.a,{name:"ellipsis vertical"})),e&&r.a.createElement(D,{user:e}))))},_=function(){var e=Object(a.useContext)(y),t=e.toggle,n=e.visibility,i=Object(a.useContext)(S.a).openLoginModal,c=Object(v.d)((function(e){return e.auth})).user;return r.a.createElement("div",{className:"mobile-navigation"},r.a.createElement(k.a,{verticalAlign:"middle"},r.a.createElement(k.a.Row,{columns:3},r.a.createElement(k.a.Column,{width:6,verticalAlign:"middle"},r.a.createElement(b.a,{name:n?"times":"sidebar",size:"large",onClick:t})),r.a.createElement(k.a.Column,{width:4,textAlign:"center",verticalAlign:"middle"},r.a.createElement("img",{src:j.a,width:"120",alt:"Mix Zone"})),r.a.createElement(k.a.Column,{width:6,verticalAlign:"middle",textAlign:"right"},r.a.createElement(k.a,null,r.a.createElement(k.a.Row,{className:"mobile-right-wrapper"},r.a.createElement(k.a.Column,{className:"mobile-action-icons",width:c?6:16,verticalAlign:"middle",textAlign:"right"},r.a.createElement(b.a,{name:"search"}),!c&&r.a.createElement(b.a,{name:"user",onClick:function(){return i()}})),c&&r.a.createElement(k.a.Column,{className:"mobile-user-menu-wraper",width:10,verticalAlign:"middle"},c&&r.a.createElement(D,{user:c}))))))))},z=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{minWidth:769},r.a.createElement(F,null)),r.a.createElement(x.a,{maxWidth:768},r.a.createElement(_,null)))},H=function(){return null},W=[{check:function(e){return e>=1200},genres:{classNames:["pl-2em","genres-card-pb-0"].join(" ")},playlist:{}},{check:function(e){return e>=992&&e<1200},genres:{classNames:["pl-1em","genres-card-pb-0"].join(" ")},playlist:{classNames:["pb-2em"]}},{check:function(e){return e>=768&&e<992},genres:{classNames:["pl-2em"].join(" ")},playlist:{}},{check:function(e){return e<768},genres:{classNames:["pl-1em","genres-card-pb-0"].join(" ")},playlist:{classNames:["pb-2em"]}}],G={genres:{classNames:""},playlist:{classNames:""}},V=n(21),B=Object(a.forwardRef)((function(e,t){var n=e.children,a=e.top,i=e.bottom,c=e.left,o=e.right,l=e.style,u=void 0===l?{}:l,s=Object(I.a)(e,["children","top","bottom","left","right","style"]);return r.a.createElement("div",Object.assign({ref:t,className:"gutter",style:Object(V.a)({},u,{paddingRight:"".concat(o,"em"),paddingLeft:"".concat(c,"em"),paddingTop:"".concat(a,"em"),paddingBottom:"".concat(i,"em")})},s),n)}));B.defaultProps={top:1,left:1,right:1,bottom:1};var $=B,Y=n(543),X=n(546),J="https://yt3.ggpht.com/a/AGF-l78WViRTDtDkcrVVW8XlrrJ4MggAqM7UMKVkBQ=s288-mo-c-c0xffffffff-rj-k-no",K=function(e){var t=e.children,n=e.src,r=e.placeholder,i=void 0===r?J:r,c=Object(a.useState)(!1),o=Object(s.a)(c,2),l=o[0],u=o[1],d=Object(a.useState)(!1),m=Object(s.a)(d,2),f=m[0],p=m[1],b=new Image;return b.src=n,b.onload=function(){return u(!0)},b.onerror=function(){return p(!0)},"string"===typeof i?t(l?n:i):l?t(n):f?t(J):i},q=n(545),Q=n(169),Z=n.n(Q),ee=function(e){var t=e.dimmer,n=void 0===t||t,a=e.active,i=void 0!==a&&a,c=e.src,o=void 0===c?Z.a:c,l=e.size,u=Object(I.a)(e,["dimmer","active","src","size"]);return n?r.a.createElement(q.a,{active:i},r.a.createElement(p.a,Object.assign({},u,{size:l,src:o}))):r.a.createElement(p.a,Object.assign({},u,{size:l,src:o},{src:o}))},te=0,ne=function(e){var t,n=e.title,i=e.items,c=e.row,o=Object(l.g)(),u=Object(a.useState)(!1),d=Object(s.a)(u,2),m=d[0],f=d[1],p=Object(a.useState)(0),b=Object(s.a)(p,2),v=b[0],g=b[1];return r.a.createElement("div",{className:"showcase"},n&&r.a.createElement(X.a,{as:"h1"},n),r.a.createElement(Y.a.Group,{onMouseDownCapture:function(e){f(!0),g(e.clientX-te)},onMouseUpCapture:function(e){f(!1),g(0)},onMouseMove:function(e){if(e.preventDefault(),m&&!(e.movementX>-1&&te>=0)){var t=e.touches?e.touches[0]:e,n=-1*(v-t.clientX),a=document.querySelector(".showcase .ui.cards");null===a||void 0===a||a.scroll(Math.abs(te),0),te=te+n>0?0:n}},onMouseLeave:function(){return f(!1)}},(t=i,r.a.createElement(r.a.Fragment,null,t.map((function(e,t){var n=c(e),a=n.title,i=n.subTitle,l=n.image,u=n.link;return r.a.createElement(Y.a,{key:t,onClick:function(){return o.push(u)},link:!0},r.a.createElement(K,{src:l,placeholder:r.a.createElement(Y.a.Content,null,r.a.createElement(ee,{size:"mini",src:Z.a,dimmer:!1,active:!0}))},(function(e){return r.a.createElement(Y.a.Content,{style:{backgroundImage:"url(".concat(e,")")}})})),r.a.createElement(Y.a.Content,{extra:!0},r.a.createElement(Y.a.Header,null,a),r.a.createElement(Y.a.Meta,null,i)))}))))))},ae=function(){var e=Object(v.d)((function(e){return e.artists})),t=e.artists,n=e.loaded;return r.a.createElement(ne,{items:t,title:n?"Explore DJs":"",row:function(e){return{link:"/artists/".concat(e.slug),title:e.name,image:e.image,subTitle:e.lastMixTitle}}})},re=n(93),ie=n.n(re),ce=n(217),oe=[{check:function(e){return e<350},columns:[{name:"image",width:2},{name:"play",width:2},{name:"description",width:10},{name:"actions",width:2}]},{check:function(e){return e>350&&e<415},columns:[{name:"image",width:2},{name:"play",width:2},{name:"description",width:10},{name:"actions",width:2}]},{check:function(e){return e>=415&&e<600},columns:[{name:"image",width:2},{name:"play",width:1},{name:"description",width:8},{name:"genres",width:3},{name:"actions",width:2}]},{check:function(e){return e>=600&&e<800},columns:[{name:"image",width:1,className:"fix"},{name:"play",width:1,className:"fix"},{name:"description",width:6},{name:"genres",width:4},{name:"duration",width:1},{name:"actions",width:1,className:"fix"}]},{check:function(e){return e>=800},columns:[{name:"image",width:1,className:"fix"},{name:"play",width:1,className:"fix"},{name:"description",width:6},{name:"genres",width:3},{name:"date",width:2},{name:"duration",width:1},{name:"actions",width:1,className:"fix"}]}],le=function(e){var t=e.mix.image;return r.a.createElement("div",{className:"image-wrapper",style:{maxWidth:49}},r.a.createElement(p.a,{src:t}))},ue=n(46),se=n(113),de=function(){var e=Object(v.c)(),t=Object(v.d)((function(e){return e.playerHistory})),n=t.history,a=t.pointer;return{saveSeconds:function(e){0===Math.floor(e%5)&&sessionStorage.setItem("seconds",String(e))},getSeconds:function(){return parseInt(sessionStorage.getItem("seconds")||"0")},push:function(t){return e(Object(se.d)(t))},forward:function(){return e(Object(se.c)())},back:function(){return e(Object(se.a)())},canGoBack:n[(null!==a&&void 0!==a?a:0)-1],canGoForward:n[(null!==a&&void 0!==a?a:0)+1],length:n.length,history:n,pointer:a,equalToActiveHistory:function(e){var t=n[null!==a&&void 0!==a?a:0];return!!t&&t.id===e}}},me=n(27),fe=n(33),pe=n(66),be=n.n(pe),ve=new(function(){function e(){Object(me.a)(this,e),this.audioEl=new Audio,this.onLoadedData=new be.a,this.onLoadStart=new be.a,this.onPlay=new be.a,this.onPlaying=new be.a,this.onPause=new be.a,this.onWaiting=new be.a,this.onTimeUpdate=new be.a,this.onError=new be.a,this.onAbort=new be.a,this.createEvents()}return Object(fe.a)(e,[{key:"load",value:function(e){return this.audioEl.src=e,this.audioEl.load(),this}},{key:"play",value:function(){this.audioEl.play()}},{key:"pause",value:function(){this.audioEl.pause()}},{key:"createEvents",value:function(){var e=this;this.audioEl.addEventListener("loadeddata",(function(){return e.onLoadedData.notify()})),this.audioEl.addEventListener("loadstart",(function(){return e.onLoadStart.notify()})),this.audioEl.addEventListener("pause",(function(){return e.onPause.notify()})),this.audioEl.addEventListener("play",(function(){return e.onPlay.notify()})),this.audioEl.addEventListener("playing",(function(){return e.onPlaying.notify()})),this.audioEl.addEventListener("waiting",(function(){return e.onWaiting.notify()})),this.audioEl.addEventListener("timeupdate",(function(){return e.onTimeUpdate.notify()})),this.audioEl.addEventListener("error",(function(t){return e.onError.notify(t)})),this.audioEl.addEventListener("abort",(function(t){return e.onAbort.notify(t)}))}},{key:"audio",get:function(){return this.audioEl}}]),e}()),ge=function(e){return"https://drive.google.com/uc?export=download&id=".concat(e)},he=function(){var e=Object(v.c)(),t=de(),n=t.saveSeconds,a=t.getSeconds,r=t.push,i=t.back,c=t.forward,o=t.history,l=t.pointer,u=Object(v.d)((function(e){return e.mainPlayer})),s=u.currentMix,d=u.isPlaying,m=u.isPaused,f=u.isLoading,p=u.hasError,b=u.isVisible,g=u.isSilent,h=function(e){return ve.audio.currentTime=e},E=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t&&s&&p||!s&&t||s&&t&&t.id!==s.id||t&&g?(e(Object(ue.e)(t)),r(t),ve.load(ge(t.sourceId)),h(a),n(a)):(d&&ve.pause(),m&&ve.play())},O=function(t){t&&(h(0),n(0),g||m?e(Object(ue.d)(t)):(E(t),e(Object(ue.e)(t)),ve.load(ge(t.sourceId))))};return{currentMix:s,play:E,pause:function(){return console.log("")},back:function(){if(null!==l){i();var e=o[l-1];O(e)}},forward:function(){if(null!==l){c();var e=o[l+1];O(e)}},saveSeconds:n,getSeconds:a,seek:h,hasError:p,isPlaying:d,isPaused:m,isLoading:f,isVisible:b,service:ve}},Ee=function(e){var t=e.mix,n=he(),a=n.play,i=n.currentMix,c=n.isPlaying,o=n.isLoading;return r.a.createElement("div",{className:"play-wrapper"},i&&i.id===t.id?r.a.createElement(b.a,{link:!0,name:c?"pause":o?"sync alternate":"play",loading:o,disabled:o,onClick:function(){a(t)}}):r.a.createElement(b.a,{link:!0,name:"play",onClick:function(){a(t)}}))},Oe=function(e){var t=e.mix,n=t.description,a=t.count,i=t.series,c=(i=void 0===i?{}:i).name,o=void 0===c?null:c;return r.a.createElement("div",{className:"description-wrapper"},r.a.createElement("div",{className:"pl-desc-series"},o," #",a),n&&r.a.createElement("div",{className:"pl-desc word-limit",title:n},n))},je=function(e){var t=e.mix.genres,n=(void 0===t?[]:t).filter(Boolean).map((function(e){return e.name})).join(", ");return r.a.createElement("div",{className:"genres-wrapper word-limit"},n)},ye=n(170),we=function(e){var t=e.mix.duration,n={"%H":R.d,"%m":R.d,"%s":R.d};return r.a.createElement("div",{className:"duration-wrapper"},Object(ye.a)(t,"%H:%m:%s",{setters:n}))},xe=function(e){var t=e.mix.createdAt.label;return r.a.createElement("div",{className:"date-wrapper"},t)},Ne=n(94),Se=function(){var e=Object(v.c)(),t=Object(v.d)((function(e){return e})),n=t.auth.user,a=t.userFavourites.ids,r=void 0===a?[]:a,i=function(e){return e&&n&&r.includes(e)};return{has:i,toggle:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n&&n.uid;return i(t)?e(Object(Ne.c)(a,t)):e(Object(Ne.a)(a,t))}}},ke={image:le,play:Ee,description:Oe,genres:je,duration:we,date:xe,actions:function(e){var t,n=e.mix,i=n.id,c=void 0===i?"":i,o=n.sourceId,l=n.trackListId,u=Object(v.d)((function(e){return e})).auth.user,s=Object(a.useContext)(S.a).openLoginModal,d=Se(),m=d.has,f=d.toggle,p=Object(T.b)("PLAYLIST").ACTIONS;return r.a.createElement("div",{className:"actions-wrapper"},r.a.createElement(A.a,{text:"...",floating:!0,direction:"left"},r.a.createElement(A.a.Menu,null,u&&r.a.createElement(A.a.Item,{icon:"heart",onClick:function(){return f(c)},text:m(c)?p.REMOVE_FROM_FAVOURITES:p.ADD_TO_FAVOURITES}),!u&&r.a.createElement(A.a.Item,{icon:"heart",text:"Add to favorites",onClick:function(){return s()}}),r.a.createElement(A.a.Item,{as:"a",icon:"download",text:"Download",href:ge(o)}),l&&r.a.createElement(A.a.Item,{as:"a",icon:"numbered list",text:"Show track list",href:(t=l,"https://docs.google.com/document/d/".concat(t,"/export?format=pdf"))}))))}},Ae=function(e){var t=e.items,n=void 0===t?[]:t,i=e.onLoad,c=Object(a.useState)(!1),o=Object(s.a)(c,2),l=o[0],d=o[1],f=Object(a.useState)(0),p=Object(s.a)(f,2),b=p[0],v=p[1],g=Object(a.useRef)(null),h=(oe.find((function(e){return(0,e.check)(b)}))||{}).columns,E=void 0===h?[]:h,O=function(e,t){var n=g.current;n&&v(n.clientWidth)};Object(a.useEffect)(O,[]),Object(a.useEffect)((function(){d(!1)}),[n]);var j=i&&n.length>0;return r.a.createElement(u.a,{fluid:!0,className:"playlist"},r.a.createElement("div",{ref:g},r.a.createElement(x.a,{fireOnMount:!0,as:k.a,onUpdate:O},n.map((function(e,t){return r.a.createElement(k.a.Row,{key:t,className:"playlist-item"},E.map((function(t,n){var a=t.width,i=t.name,c=t.className,o=void 0===c?"":c,l=ie()(i,ke);return r.a.createElement(k.a.Column,{key:n,verticalAlign:"middle",width:a,className:"".concat(o," ").concat(i)},l&&r.a.createElement(l,{mix:e}))})))}))),r.a.createElement(m.a,{style:{opacity:j?"1":"0"}},r.a.createElement(ce.a,{size:"big",inverted:!0,color:"red",fluid:!0,loading:l,disabled:l||!j,onClick:function(){d(!0),i&&i(n[n.length-1])}},"Load More"))))},Ce=n(9),Ie=n.n(Ce),Pe=n(22),Re=n(24),Te=n(72),Me=function(e){return e.map((function(e){return Object(V.a)({},e.data(),{id:e.id})}))},Le=function(){var e=Object(Pe.a)(Ie.a.mark((function e(t,n){var a,r,i,c,o,l,u,d,m,f,p,b,v;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,c=(i=n||{}).where,o=void 0===c?[]:c,l=i.startAt,u=i.orderBy,d=void 0===u?[]:u,m=i.limit,f=void 0===m?10:m,!l){e.next=6;break}return e.next=5,t.doc(l).get();case 5:a=e.sent;case 6:return o.forEach((function(e){var t=Object(s.a)(e,3),n=t[0],a=t[1],i=t[2];return r=r.where(n,a,i)})),d.length>0&&(p=Object(s.a)(d,2),b=p[0],v=p[1],b&&(r=r.orderBy(b,v))),a&&(r=r.startAfter(a)),f&&(r=r.limit(f)),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ue=function(e,t,n,a){return function(){var r=Object(Pe.a)(Ie.a.mark((function r(i){var c,o,l,u,s;return Ie.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i(t()),c=Re.a.db.collection("mixes"),r.next=5,Le(c,e);case 5:return o=r.sent,r.next=8,o.get();case 8:l=r.sent,u=l.docs,s=Me(void 0===u?[]:u),i(n(s)),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),i(a(r.t0));case 18:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e){return r.apply(this,arguments)}}()},De=n(131),Fe=n(51),_e=function(e){return Fe.a.dispatch(Object(De.b)({name:e}))},ze=function(e){return Fe.a.dispatch(Object(De.c)(e))},He=n(25),We=function e(t){return{add:function(n){var a=n.items,r=n.name,i=n.localId,c=void 0===i?"":i,o=n.foreignId,l=t.map((function(e){return Object(V.a)({},e,Object(He.a)({},r,a.find((function(t){return t[c]===e[o]}))))}));return e(l)},map:function(n){var a=n.items,r=n.ids,i=n.localId,c=t.map((function(e){return Object(V.a)({},e,Object(He.a)({},r,(e[r]||[]).map((function(e){return a.find((function(t){var n=t[i];return e===n}))}))))}));return e(c)},get:function(){return t}}},Ge=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{left:function(n){return e(Object(V.a)({},t,{left:n}))},right:function(n){return e(Object(V.a)({},t,{right:n}))},map:function(n){return n(e(t))},toNumber:function(){return t.left/100*t.right},toPercent:function(){return t.left/t.right*100}}},Ve=function(e){return{items:e,name:"series",localId:"id",foreignId:"seriesId"}},Be=function(e){return{items:e,name:"artist",localId:"id",foreignId:"artistId"}},$e=function(e){return{items:e,localId:"id",ids:"genres"}},Ye=function(){var e=Object(v.c)(),t=Object(v.d)((function(e){return e})),n=t.series,i=n.series,c=n.loaded,o=t.genres,l=o.genres,u=o.loaded,s=t.artists,d=s.artists,m=s.loaded,f=t.recentlyAddedMixes,p=f.mixes,b=f.loaded,g=f.normalized;return Object(a.useEffect)((function(){_e("load recently added mixes"),!b&&e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return function(){var t=Object(Pe.a)(Ie.a.mark((function t(n){var a,r,i,c,o;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Object(Te.d)()),a=Re.a.db.collection("mixes").orderBy("createdAt","desc").limit(e),t.next=5,a.get();case 5:r=t.sent,i=r.docs,c=Me(void 0===i?[]:i),n(Object(Te.b)(c)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),o=t.t0.message,n(Object(Te.e)(o));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}())}),[b,e]),Object(a.useEffect)((function(){if(!g&&c&&u&&m){var t=We(p).add(Ve(i)).add(Be(d)).map($e(l)).get();e(function(e){return function(){var t=Object(Pe.a)(Ie.a.mark((function t(n){return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(Te.c)(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}g&&ze("load recently added mixes")}),[p,i,l,d,e,g,c,m,u]),b?r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{className:"popular-title",as:"h1"},"Recently Added"),r.a.createElement(Ae,{items:p})):null},Xe=function(e){var t=e.items,n=void 0===t?[]:t,a=Object(l.g)();return r.a.createElement(k.a,{stackable:!0,className:"genres-grid"},r.a.createElement(k.a.Row,{columns:4},n.map((function(e){var t=e.slug,n=e.name,i=e.id;return r.a.createElement(k.a.Column,{width:8,key:i},r.a.createElement(Y.a,{onClick:function(){return a.push("/genres/".concat(t))},header:n}))}))))},Je=function(){var e=Object(v.d)((function(e){return e.genres})),t=e.featuredGenres;return e.loaded?r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{className:"mood-title",as:"h1"},"Mood"),r.a.createElement(Xe,{items:Object(R.c)(t.slice(0,4))})):null},Ke=function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useRef)(null),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width;n&&i(n)},l=W.find((function(e){return(0,e.check)(n)}))||G,d=l.genres.classNames,m=l.playlist.classNames;return Object(a.useEffect)(o,[]),r.a.createElement($,{ref:c},r.a.createElement(x.a,{fluid:!0,className:"home",fireOnMount:!0,as:u.a,onUpdate:o},r.a.createElement(ae,null),r.a.createElement(u.a,{fluid:!0,className:"inner-wrapper"},r.a.createElement(k.a,{stackable:!0},r.a.createElement(k.a.Row,{columns:2},r.a.createElement(k.a.Column,{className:"pl-wrapper ".concat(m),mobile:8,tablet:8,computer:16,widescreen:8,largeScreen:8},r.a.createElement(Ye,null)),r.a.createElement(k.a.Column,{mobile:8,tablet:8,computer:16,widescreen:8,largeScreen:8,className:d},r.a.createElement(Je,null)))))))},qe=n(215),Qe=n(71),Ze={success:"check",warning:"warning circle",error:"warning circle",info:"info"},et={tension:262,friction:10,precision:.5,mass:1},tt=function(){var e=Object(a.useState)((function(){return new WeakMap})),t=Object(s.a)(e,1)[0],n=Object(v.c)(),i=Object(v.d)((function(e){return e.toast})).messages,c=Object(qe.b)(i,(function(e){return e.key}),{from:{opacity:0,right:-100,life:"0%"},enter:function(e){return function(){var n=Object(Pe.a)(Ie.a.mark((function n(a){var r,i;return Ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.get(e)||{},i=r.offsetHeight,n.next=3,a({opacity:1,right:20,height:i});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},leave:function(){return function(){var e=Object(Pe.a)(Ie.a.mark((function e(t){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({life:"100%"});case 2:return e.next=4,t({opacity:0,right:-150});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},onRest:function(e,t,a){1===a.opacity&&n(Object(Qe.c)(e.key))},config:function(e,t){return"leave"===t?[Object(V.a)({duration:4e3},et),et]:et}});return r.a.createElement("div",{className:"toast-container",style:{top:window.pageYOffset}},c.map((function(e,n){var a=e.item,i=void 0===a?{}:a,c=e.props,o=(c.life,Object(I.a)(c,["life"]));e.key;return r.a.createElement(qe.a.div,{ref:function(e){return e&&t.set(i,e)},className:"toast",key:n,style:Object(V.a)({zIndex:1,position:"relative",margin:20},o)},r.a.createElement(Y.a,{className:i.type&&i.type},i.title&&r.a.createElement(Y.a.Content,{header:i.title}),r.a.createElement(Y.a.Content,null,!!Ze[i.type]&&r.a.createElement(b.a,{name:Ze[i.type],size:"large"}),i.content)))})))},nt=function(){return Object(v.d)((function(e){return e.screenIndicator})).isEmpty?null:r.a.createElement(ee,{src:j.a,active:!0,type:"logo"})},at=n(549),rt=n(86),it=function(e){var t=e.error,n=(e.className,e.label),a=void 0===n?"":n,i=e.value,c=Object(I.a)(e,["error","className","label","value"]);return r.a.createElement("div",{className:"theme form-input"},r.a.createElement(rt.a.Input,Object.assign({},c,{label:i?a:"",value:i})),t&&r.a.createElement("span",{className:"error"},t))},ct=n(60),ot=n(45),lt=Object(T.b)("ACCOUNT").PROFILE,ut=function(e){var t=e.profile,n=Object(v.c)(),i=Object(v.d)((function(e){return e.profile})),c=i.pending,o=i.error,l=i.success,u=t.displayName,d=t.photoUrl,m=void 0===d?"":d,f=Object(a.useState)({displayName:u,photoUrl:m}),p=Object(s.a)(f,2),b=p[0],g=p[1],h=function(e){var t=e.target,n=t.name,a=t.value;g(Object(V.a)({},b,Object(He.a)({},n,a)))};Object(a.useEffect)((function(){l&&Object(ot.b)(lt.SUCCESS),o&&Object(ot.a)(o)}),[l,o]);var E=b.photoUrl,O=b.displayName,j=Object(R.b)(E)?E:O;return r.a.createElement(k.a,{className:"profile"},r.a.createElement(k.a.Row,{columns:"3"},r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"}),r.a.createElement(k.a.Column,{mobile:"16",computer:"10",tablet:"10",largeScreen:"8",widescreen:"6"},r.a.createElement(X.a,{as:"h1"},"Profile"),r.a.createElement(rt.a,{autoComplete:"off"},r.a.createElement(rt.a.Field,null,r.a.createElement(U,{content:j})),r.a.createElement(rt.a.Field,null,r.a.createElement(it,{autoComplete:"off",name:"photoUrl",size:"large",fluid:!0,label:"Avatar Link:",value:E,onChange:h,placeholder:"Avatar Link",className:""})),r.a.createElement(rt.a.Field,null,r.a.createElement(it,{autoComplete:"off",name:"displayName",size:"large",fluid:!0,label:"Name:",value:O,onChange:h,placeholder:"Name"})),r.a.createElement(ce.a,{positive:!0,size:"large",onClick:function(){n(Object(ct.e)(b))},disabled:c,content:"SAVE"}))),r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"})))},st=n(110),dt=Object(T.b)("ACCOUNT").CHANGE_EMAIL,mt=function(e){var t=e.email,n=Object(v.c)(),i=Object(v.d)((function(e){return e.changeEmail})),c=i.error,o=i.pending,l=i.success,u=Object(a.useState)(t),d=Object(s.a)(u,2),m=d[0],f=d[1];return Object(a.useEffect)((function(){c&&Object(ot.a)(c),l&&Object(ot.b)(dt.SUCCESS)}),[c,l]),r.a.createElement(k.a,{className:"change-email"},r.a.createElement(k.a.Row,{columns:"3"},r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"}),r.a.createElement(k.a.Column,{mobile:"16",computer:"10",tablet:"10",largeScreen:"8",widescreen:"6"},r.a.createElement(X.a,{as:"h1"},"Change Email"),r.a.createElement(rt.a,{autoComplete:"off"},r.a.createElement(rt.a.Field,null,r.a.createElement(it,{autoComplete:"off",name:"email",size:"large",fluid:!0,label:"Email:",value:m,onChange:function(e){var t=e.target.value;f(t)},placeholder:"Email"})),r.a.createElement(ce.a,{positive:!0,size:"large",onClick:function(){return m&&n(Object(st.a)(m))},disabled:o||t===m,content:"SAVE"}))),r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"})))},ft=n(111),pt=Object(T.b)("ACCOUNT").CHANGE_PASSWORD,bt=function(){var e=Object(v.c)(),t=Object(v.d)((function(e){return e.changePassword})),n=t.error,i=t.pending,c=t.success,o=Object(a.useState)(""),l=Object(s.a)(o,2),u=l[0],d=l[1];return Object(a.useEffect)((function(){n&&Object(ot.a)(n),c&&Object(ot.b)(pt.SUCCESS)}),[n,c]),r.a.createElement(k.a,{className:"change-password"},r.a.createElement(k.a.Row,{columns:"3"},r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"}),r.a.createElement(k.a.Column,{mobile:"16",computer:"10",tablet:"10",largeScreen:"8",widescreen:"6"},r.a.createElement(X.a,{as:"h1"},"Change Password"),r.a.createElement(rt.a,{autoComplete:"off"},r.a.createElement(rt.a.Field,null,r.a.createElement(it,{type:"password",autoComplete:"off",name:"email",size:"large",fluid:!0,label:"New Password:",value:u,onChange:function(e){var t=e.target.value;d(t)},placeholder:"New Password"})),r.a.createElement(ce.a,{positive:!0,size:"large",onClick:function(){return u&&e(Object(ft.a)(u))},disabled:i,content:"SAVE"}))),r.a.createElement(k.a.Column,{tablet:"3",computer:"3",largeScreen:"4",widescreen:"5"})))},vt=function(){var e=Object(v.c)(),t=Object(v.d)((function(e){return e.profile})).profile;Object(a.useEffect)((function(){return e(Object(ct.b)()),function(){e(Object(ct.d)()),e(Object(st.c)()),e(Object(ft.c)())}}),[e]);var n=[{menuItem:"Profile",pane:r.a.createElement(at.a.Pane,{key:"profile",attached:!1},t&&r.a.createElement(ut,{profile:t}))},{menuItem:"Change Email",pane:r.a.createElement(at.a.Pane,{key:"changeEmail",attached:!1},r.a.createElement(mt,{email:null===t||void 0===t?void 0:t.email}))},{menuItem:"Change Password",pane:r.a.createElement(at.a.Pane,{key:"changePassword",attached:!1},r.a.createElement(bt,null))}],i=t||{},c=i.displayName,o=i.photoUrl;return r.a.createElement(u.a,{fluid:!0,className:"account"},r.a.createElement(u.a,{fluid:!0,textAlign:"center",className:"cover-area"},r.a.createElement(X.a,{as:"h1"},"My Account"),r.a.createElement(U,{width:100,className:"margin-auto",content:o||c})),t&&r.a.createElement($,null,r.a.createElement(at.a,{renderActiveOnly:!1,className:"tab-container",menu:{secondary:!0,pointing:!0},panes:n})))},gt=n(34),ht=n(62),Et=n(47),Ot=n(54),jt=function(e){var t=e.children,n=e.cond,a=e.redirectTo,i=void 0===a?"/":a;return n?t:r.a.createElement(l.a,{to:i})},yt=function(e){var t=e.title,n=e.image;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.Row,{columns:"1",verticalAlign:"middle",textAlign:"center"},r.a.createElement(k.a.Column,{verticalAlign:"middle",textAlign:"center"},n&&r.a.createElement(K,{src:n,placeholder:r.a.createElement(ee,{size:"mini",dimmer:!1,active:!0,verticalAlign:"middle"})},(function(e){return r.a.createElement(P,{src:e,size:"tiny",verticalAlign:"middle"})})))),r.a.createElement(k.a.Row,null,r.a.createElement(k.a.Column,{textAlign:"center"},r.a.createElement(X.a,{size:"large",as:"h1"},t))))},wt=function(e){var t=e.title,n=e.image;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.Row,{columns:"2",verticalAlign:"middle"},r.a.createElement(k.a.Column,{verticalAlign:"middle",textAlign:"center",widescreen:"1",tablet:"3"},r.a.createElement(p.a,{src:n,size:"tiny",verticalAlign:"middle",className:"widescreen"})),r.a.createElement(k.a.Column,{widescreen:"12"},r.a.createElement(X.a,{size:"huge",as:"h1"},t))))},xt=function(e){var t=e.title,n=e.image;return r.a.createElement(u.a,{className:"pageHeader reset",fluid:!0},r.a.createElement(x.a,{as:k.a,className:"reset series-mobile",maxWidth:"780"},r.a.createElement(yt,{title:t,image:n})),r.a.createElement(x.a,{as:k.a,className:"reset series-wide",minWidth:"780"},r.a.createElement(wt,{title:t,image:n})))},Nt=n(316),St=n.n(Nt),kt=Et.a.PAGINATION,At=ht.firestore.FieldPath.documentId(),Ct={orderBy:[At,"asc"],limit:kt.limit},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[["status","==",1],[At,"in",e]]},Pt=function(){var e=Object(v.d)((function(e){return e})),t=e.userFavourites,n=t.ids,i=void 0===n?[]:n,c=t.loaded,o=e.favouriteList,l=o.mixes,d=o.loaded,m=o.lastPartCount,f=e.genres,p=f.genres,b=f.loaded,g=e.series,h=g.series,E=g.loaded,O=Object(v.c)(),j=Object(a.useState)(Et.a.PAGINATION.limit),y=Object(s.a)(j,1)[0],w=Object(a.useState)([]),x=Object(s.a)(w,2),N=x[0],S=x[1];return Object(a.useEffect)((function(){var e=i.slice(0,y);c&&O(Ue(Object(V.a)({where:Object(gt.a)(It(e))},Ct),Ot.d,Ot.b,Ot.e))}),[c,i,y,O]),Object(a.useEffect)((function(){if(d&&E){var e=We(h).map($e(p)).get(),t=We(l).add(Ve(e)).map($e(p)).get();S(t)}}),[l,d,E,b,h,O,p]),r.a.createElement(jt,{cond:!0},r.a.createElement(u.a,{fluid:!0,className:"artistDetailPage reset"},r.a.createElement(xt,{title:"Favourites",image:St.a}),r.a.createElement($,{top:2,right:1.5,bottom:2,left:1.5,style:{overflowY:"auto",height:"calc(100vh - 230px)"},key:"list-gutter"},r.a.createElement(Ae,{items:N,onLoad:i.length>Ct.limit&&m===Ct.limit?function(){return function(){var e=N.length,t=i.slice(e,e+y);t.length<1||O(Ue(Object(V.a)({where:Object(gt.a)(It(t))},Ct),Ot.d,Ot.c,Ot.e))}()}:void 0}))))},Rt=n(53),Tt={orderBy:["createdAt","desc"],limit:Et.a.PAGINATION.limit},Mt=function(){var e=Object(l.h)().slug,t=Object(v.c)(),n=Object(a.useState)([]),i=Object(s.a)(n,2),c=i[0],o=i[1],d=Object(v.d)((function(e){return e})),m=d.genres,f=m.genres,p=m.loaded,b=d.series,g=b.series,h=b.loaded,E=d.genreDetail,O=E.mixes,j=E.lastPartCount,y=E.loaded,w=f.find((function(t){return t.slug===e}));Object(a.useEffect)((function(){if(p&&w){var e=w.id;t(Ue(Object(V.a)({where:[["status","==",1],["genres","array-contains",e]]},Tt),Rt.d,Rt.b,Rt.e))}}),[p,w,t]),Object(a.useEffect)((function(){if(y&&h){var e=We(g).map($e(f)).get(),t=We(O).add(Ve(e)).map($e(f)).get();o(t)}}),[O,y,h,g,t,f]);var x=w||{},N=x.id,S=x.name,k=x.image;return r.a.createElement(jt,{cond:!p||!!w},r.a.createElement(u.a,{fluid:!0,className:"genreDetailPage reset"},r.a.createElement(xt,{title:S,image:k}),r.a.createElement($,{top:3,right:1.5,bottom:2,left:2,style:{overflowY:"auto",height:"calc(100vh - 200px)"}},r.a.createElement(Ae,{items:c,onLoad:j===Tt.limit?function(e){var n=e.id;return N&&function(e,n){t(Ue(Object(V.a)({where:[["status","==",1],["genres","array-contains",e]]},Tt,{startAt:n}),Rt.d,Rt.c,Rt.e))}(N,n)}:void 0}))))},Lt=n(52),Ut={orderBy:["count","desc"],limit:Et.a.PAGINATION.limit},Dt=function(){var e=Object(l.h)().slug,t=Object(a.useState)([]),n=Object(s.a)(t,2),i=n[0],c=n[1],o=Object(v.c)(),d=Object(v.d)((function(e){return e})),m=d.genres.genres,f=d.series,p=f.series,b=f.loaded,g=d.artists.artists,h=d.seriesDetail,E=h.mixes,O=h.lastPartCount,j=h.loaded,y=p.find((function(t){return t.slug===e}));Object(a.useEffect)((function(){if(b&&y){var e=y.id;o(Ue(Object(V.a)({where:[["status","==",1],["seriesId","==",e]]},Ut),Lt.d,Lt.b,Lt.e))}}),[b,y,o]),Object(a.useEffect)((function(){if(j){var e=We(p).map($e(m)).get(),t=We(E).add(Ve(e)).add(Be(g)).map($e(m)).get();c(t)}}),[E,j,p,o,m,g]);var w=y||{},x=w.id,N=w.name,S=w.image;return r.a.createElement(jt,{cond:!b||!!y},r.a.createElement(u.a,{fluid:!0,className:"seriesPage reset"},r.a.createElement(xt,{title:N,image:S}),r.a.createElement($,{top:3,right:1.5,bottom:2,left:2,style:{overflowY:"auto",height:"calc(100vh - 200px)"}},r.a.createElement(Ae,{items:i,onLoad:O===Ut.limit?function(e){var t=e.id;return x&&function(e,t){o(Ue(Object(V.a)({where:[["status","==",1],["seriesId","==",e]]},Ut,{startAt:t}),Lt.d,Lt.c,Lt.e))}(x,t)}:void 0}))))},Ft=n(132),_t=n(41),zt={orderBy:["createdAt","desc"],limit:Et.a.PAGINATION.limit},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[["status","==",1],["artistId","==",e]]},Wt=function(){var e=Object(l.h)().slug,t=Object(v.c)(),n=Object(a.useState)([]),i=Object(s.a)(n,2),c=i[0],o=i[1],d=Object(a.useState)([]),m=Object(s.a)(d,2),f=m[0],p=m[1],b=Object(a.useState)(),g=Object(s.a)(b,2),h=g[0],E=g[1],O=Object(v.d)((function(e){return e})),j=O.artists,y=j.artists,w=j.loaded,x=O.genres,N=x.genres,S=x.loaded,k=O.series,A=k.series,C=k.loaded,I=O.artistDetail,P=I.mixes,R=I.lastPartCount,T=I.loaded,M=y.find((function(t){return t.slug===e}));Object(a.useEffect)((function(){if(w&&M){var e=M.id;t(Ue(Object(V.a)({where:Object(gt.a)(Ht(e))},zt),_t.d,_t.b,_t.e))}}),[w,M,t]),Object(a.useEffect)((function(){if(M){var e=M.id,n=h?[["genres","array-contains",h]]:[];t(Ue(Object(V.a)({where:[].concat(Object(gt.a)(Ht(e)),n)},zt),_t.d,_t.b,_t.e))}}),[h,M,t]),Object(a.useEffect)((function(){if(T&&C&&w){var e=We(A).map($e(N)).get(),t=We(P).add(Ve(e)).map($e(N)).get();o(t)}}),[P,T,C,S,w,A,t,N]),Object(a.useEffect)((function(){if(M&&S&&w){var e=M.genres,t=We([{genres:void 0===e?[]:e}]).map($e(N)).get(),n=Object(s.a)(t,1)[0].genres;p(n.filter(Boolean))}}),[w,S,N,M]);var L=M||{},U=L.id,D=L.name,F=L.image;return r.a.createElement(jt,{cond:!w||!!M},r.a.createElement(u.a,{fluid:!0,className:"artistDetailPage reset"},r.a.createElement(xt,{title:D,image:F}),f.length>1&&r.a.createElement($,{top:1,right:1.5,bottom:.5,left:1,key:"filter-gutter"},r.a.createElement(Ft.a.Group,{size:"medium"},f.map((function(e){var t=e.id,n=e.name;return r.a.createElement(Ft.a,{key:t,onClick:function(){E(t)},as:"a",color:t===h?"blue":void 0},"# ",n)})))),r.a.createElement($,{top:2,right:1.5,bottom:2,left:2,style:{overflowY:"auto",height:"calc(100vh - 230px)"},key:"list-gutter"},r.a.createElement(Ae,{items:c,onLoad:R===zt.limit?function(e){var n=e.id;return U&&function(e,n){var a=h?[["genres","array-contains",h]]:[];t(Ue(Object(V.a)({where:[].concat(Object(gt.a)(Ht(e)),a)},zt,{startAt:n}),_t.d,_t.c,_t.e))}(U,n)}:void 0}))))},Gt=n(37),Vt=n(38),Bt=[{check:function(e){return e<350},columns:[{name:"controls",width:4,className:"small-mobile",visibilities:{volume:!1}},{name:"info",width:9,className:"small-mobile"},{name:"actions",width:3,extra:{actionName:"go-to-detail"}}]},{check:function(e){return e>350&&e<414},columns:[{name:"controls",width:4,visibilities:{volume:!1},className:"mobile"},{name:"info",width:9,className:"mobile"},{name:"actions",width:2,extra:{actionName:"go-to-detail"}}]},{check:function(e){return e>=414&&e<650},columns:[{name:"controls",width:4,className:"mobile-plus",visibilities:{volume:!1}},{name:"info",width:9,className:"mobile-plus"},{name:"actions",width:3,extra:{actionName:"go-to-detail"}}]},{check:function(e){return e>=650&&e<720},columns:[{name:"controls",width:4,className:"tablet",visibilities:{volume:!1}},{name:"info",width:2},{name:"timeline",width:8},{name:"actions",width:1,extra:{actionName:"go-to-detail"}}]},{check:function(e){return e>=720&&e<900},columns:[{name:"controls",width:3,className:"tablet",visibilities:{volume:!1}},{name:"info",width:12,className:"tablet"},{name:"actions",width:1,extra:{actionName:"go-to-detail"}}]},{check:function(e){return e>=900&&e<1024},columns:[{name:"controls",width:4,className:"tablet"},{name:"info",width:4},{name:"timeline",width:5},{name:"actions",width:1}]},{check:function(e){return e>=1024&&e<1319},columns:[{name:"controls",width:4,className:"computer"},{name:"info",width:4,className:"computer"},{name:"timeline",width:7},{name:"actions",width:1}]},{check:function(e){return e>=1319},columns:[{name:"controls",width:2,className:"widescreen"},{name:"info",width:3},{name:"timeline",width:9},{name:"actions",width:2}]}],$t=function(e){var t=e.extra,n=(Object(I.a)(e,["extra"]),t.actionName),a=he().currentMix,i=Se(),c=i.has,o=i.toggle,l=Object(T.b)("MAIN_PLAYER").ACTIONS;return r.a.createElement("div",{className:"player-actions"},!n&&r.a.createElement(A.a,{item:!0,direction:"left",icon:"bars"},r.a.createElement(A.a.Menu,null,r.a.createElement(A.a.Item,{icon:"heart",onClick:function(){return(null===a||void 0===a?void 0:a.id)&&o(null===a||void 0===a?void 0:a.id)},text:c(null===a||void 0===a?void 0:a.id)?l.REMOVE_FROM_FAVOURITES:l.ADD_TO_FAVOURITES}))),"go-to-detail"===n&&r.a.createElement(b.a,{name:"angle up",link:!0,size:"large"}))},Yt=n(171),Xt=n.n(Yt),Jt=function(){var e=he().service,t=Object(a.useState)(!1),n=Object(s.a)(t,2),i=n[0],c=n[1],o=Object(a.useRef)(null),l=Object(a.useState)(0),u=Object(s.a)(l,2),d=u[0],m=u[1],f=Object(a.useState)(108),p=Object(s.a)(f,1)[0],v=function(t,n){var a=t.percent.y;e.audio.volume=1-a/100};return Object(a.useEffect)((function(){m(Ge({left:100*e.audio.volume,right:p}).toNumber())}),[i,p,e.audio.volume]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{link:!0,size:"big",name:"volume up",onClick:function(){c(!i)}}),r.a.createElement("div",{className:"volume-container"},i&&r.a.createElement("div",{className:"volume-slider"},r.a.createElement("div",{className:"volume-bg-layer",ref:o},r.a.createElement(Xt.a,{width:"12px",height:"100px",points:[{x:0,y:108-d,width:12,height:12,style:{marginLeft:"1px",borderRadius:"7px",backgroundColor:"var(--high-text-color)"}}],axis:"y",movable:!0,onSlide:v,onStop:v})))))},Kt=function(e){var t=e.remaining,n=void 0!==t&&t,i=e.elapsed,c=void 0===i?!n:i,o=e.current,l=e.duration,u=void 0===l?0:l,s=e.active,d=e.timeFormat,m=void 0===d?"%H:%m:%s":d,f=e.onCount,p=e.visible,b=void 0===p||p,v=function(e){return e<10?"0".concat(e):e},g={"%m":v,"%s":v},h=Object(a.useRef)(o),E=Object(a.useRef)();return Object(a.useEffect)((function(){if(!E.current&&s)E.current=setInterval((function(){h.current++;var e=h.current;s&&f&&f(c?e:u-e)}),1e3);else if(!s){var e=E.current;clearInterval(e),E.current=null}}),[s,c,u,f]),Object(a.useEffect)((function(){h.current=o<1?0:o}),[o,u]),Object(a.useEffect)((function(){return function(){var e=E.current;clearInterval(e),E.current=null}}),[]),b?r.a.createElement("span",null,Object(ye.a)(c?h.current:u-h.current,m,{setters:g})):null},qt={controls:function(e){var t=e.visibilities,n=void 0===t?{}:t,a=e.extra,i=void 0===a?{}:a,c=he(),o=c.isPlaying,l=c.isLoading,u=c.play,s=c.back,d=c.forward,m=c.currentMix,f=de(),p=f.canGoBack,v=f.canGoForward,g=f.equalToActiveHistory,h=f.getSeconds,E=n.volume,O=void 0===E||E,j=i.iconSize,y=void 0===j?"big":j,w=0;return!O&&w++,r.a.createElement(k.a,{className:"player-controls"},r.a.createElement(k.a.Row,{columns:4-w},r.a.createElement(k.a.Column,{className:"reset-column"},r.a.createElement(b.a,{link:!0,size:y,name:"step backward",disabled:l||!p,onClick:s})),r.a.createElement(k.a.Column,{className:"reset-column"},r.a.createElement(b.a,{link:!0,size:y,name:o?"pause":l?"sync alternate":"play",loading:l,disabled:l,onClick:function(){u(m,g(null===m||void 0===m?void 0:m.id)?h():0)}})),r.a.createElement(k.a.Column,{className:"reset-column"},r.a.createElement(b.a,{link:!0,size:y,name:"step forward",disabled:l||!v,onClick:d})),O&&r.a.createElement(k.a.Column,{className:"reset-column",textAlign:"center"},r.a.createElement(Jt,null))))},info:function(){var e=he().currentMix;return r.a.createElement(k.a,{className:"player-info reset"},r.a.createElement(k.a.Row,{columns:"2",verticalAlign:"middle"},r.a.createElement(k.a.Column,{width:"5",className:"info-image"},r.a.createElement(P,{alt:"".concat(null===e||void 0===e?void 0:e.series.name," ").concat(null===e||void 0===e?void 0:e.count),centered:!0,src:null===e||void 0===e?void 0:e.image,width:"50"})),r.a.createElement(k.a.Column,{width:"10",className:"info-text"},r.a.createElement("div",{className:"desc word-limit bold",title:"Trance Symphony 044"},null===e||void 0===e?void 0:e.series.name," ",null===e||void 0===e?void 0:e.count),r.a.createElement("div",{className:"presenter word-limit"},"by ",null===e||void 0===e?void 0:e.artist.name),(null===e||void 0===e?void 0:e.description)&&r.a.createElement("div",{title:null===e||void 0===e?void 0:e.description,className:"word-limit"},null===e||void 0===e?void 0:e.description))))},timeline:function(){var e,t=he(),n=t.service.audio,i=t.currentMix,c=t.isPlaying,o=t.hasError,l=t.seek,u=t.saveSeconds,d=t.getSeconds,m=n.currentTime,f=Object(a.useState)(m||d()),p=Object(s.a)(f,2),b=p[0],v=p[1],g=Object(a.useState)(0),h=Object(s.a)(g,2),E=h[0],O=h[1],j=Object(a.useRef)(null),y=Object(a.useRef)((null===i||void 0===i?void 0:i.duration)||0),w=Object(a.useRef)(d());return Object(a.useEffect)((function(){O(0),v(0),y.current=(null===i||void 0===i?void 0:i.duration)||0}),[i]),Object(a.useEffect)((function(){o&&(O(0),v(0))}),[o]),Object(a.useEffect)((function(){var e,t=y.current,n=w.current,a=(null===j||void 0===j||null===(e=j.current)||void 0===e?void 0:e.clientWidth)||0;O(Ge({left:n,right:t}).map((function(e){var t=e.toPercent;return Ge({left:a,right:t()})})).toNumber()),v(n)}),[]),r.a.createElement(k.a,{className:"timeline reset"},r.a.createElement(k.a.Row,{columns:2,verticalAlign:"middle"},r.a.createElement(k.a.Column,{width:"2",textAlign:"right",className:"reset-column duration",style:{width:"50px!important"}},r.a.createElement(Kt,{current:b,duration:y.current,active:c,onCount:function(e){var t,n=(null===j||void 0===j||null===(t=j.current)||void 0===t?void 0:t.clientWidth)||0;O(Ge({left:e,right:y.current}).map((function(e){var t=e.toPercent;return Ge({left:n,right:t()})})).toNumber()),u(e)}})),r.a.createElement(x.a,{fireOnMount:!0,as:k.a.Column,width:12,onUpdate:function(e,t){(j.current||document.getElementById("tl-wrapper"))&&v(n.currentTime)}},r.a.createElement("div",{ref:j,id:"tl-wrapper"},r.a.createElement(Xt.a,{width:"".concat((null===j||void 0===j||null===(e=j.current)||void 0===e?void 0:e.clientWidth)||"100%","px"),height:"15px",points:[{x:E,y:0,width:12,height:12,style:{borderRadius:"7px",marginTop:"1px",backgroundColor:"var(--high-text-color)"}}],axis:"x",onSlide:function(e){var t,n=e.x,a=(null===(t=j.current)||void 0===t?void 0:t.clientWidth)||0,r=y.current,i=void 0===r?0:r,c=Ge({left:n,right:a}).map((function(e){var t=e.toPercent;return Ge({left:i,right:t()})})).toNumber();l(c),v(c)},movable:!0}))),r.a.createElement(k.a.Column,{width:"2",className:"reset-column duration",textAlign:"left"},r.a.createElement(Kt,{remaining:!0,current:b,duration:y.current,active:c}))))},actions:$t};var Qt=function(){var e=he(),t=e.service.audio,n=e.currentMix,i=e.isPlaying,c=e.hasError,o=e.saveSeconds,l=e.getSeconds,u=t.currentTime,d=Object(a.useState)(u||l()),m=Object(s.a)(d,2),f=m[0],p=m[1],b=Object(a.useState)(0),v=Object(s.a)(b,2),g=v[0],h=v[1],E=Object(a.useRef)(null),O=Object(a.useRef)((null===n||void 0===n?void 0:n.duration)||0),j=Object(a.useRef)(l()),y=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current}(n);return Object(a.useEffect)((function(){h(0),p(0),O.current=(null===n||void 0===n?void 0:n.duration)||0}),[n]),Object(a.useEffect)((function(){c&&(h(0),p(0))}),[c]),Object(a.useEffect)((function(){var e;if(!y){var t=O.current,n=j.current,a=(null===E||void 0===E||null===(e=E.current)||void 0===e?void 0:e.clientWidth)||0;h(Ge({left:n,right:t}).map((function(e){var t=e.toPercent;return Ge({left:a,right:t()})})).toNumber()),p(n)}}),[y]),r.a.createElement("div",{ref:E,id:"mini-tl-wrapper"},r.a.createElement(x.a,{fireOnMount:!0,className:"mini-content",as:"div",width:12,onUpdate:function(){(E.current||document.getElementById("mini-tl-wrapper"))&&p(t.currentTime)}},r.a.createElement("div",{style:{width:"".concat(g,"px")}}),r.a.createElement(Kt,{visible:!1,current:f,duration:O.current,active:i,onCount:function(e){var t,n=(null===E||void 0===E||null===(t=E.current)||void 0===t?void 0:t.clientWidth)||0;h(Ge({left:e,right:O.current}).map((function(e){var t=e.toPercent;return Ge({left:n,right:t()})})).toNumber()),o(e)}})))},Zt=function(e){Object(Vt.a)(n,e);var t=Object(Gt.a)(n);function n(){var e;Object(me.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={containerWidth:0},e.onUpdate=function(t,n){e.setState({containerWidth:window.innerWidth})},e}return Object(fe.a)(n,[{key:"render",value:function(){var e=this.state.containerWidth,t=(Bt.find((function(t){return(0,t.check)(e)}))||{}).columns,n=void 0===t?[]:t;return r.a.createElement(u.a,{fluid:!0,className:"mainPlayer reset"},r.a.createElement(x.a,{fireOnMount:!0,as:k.a,className:"reset full-height",onUpdate:this.onUpdate},!n.find((function(e){return"timeline"===e.name}))&&r.a.createElement(k.a.Row,{className:"mini-timeline"},r.a.createElement(k.a.Column,null,r.a.createElement(Qt,null))),r.a.createElement(k.a.Row,null,n.map((function(e,t){var n=e.width,a=e.name,i=e.className,c=void 0===i?"":i,o=e.visibilities,l=void 0===o?{}:o,u=e.extra,s=void 0===u?{}:u,d=ie()(a,qt);return r.a.createElement(k.a.Column,{key:t,verticalAlign:"middle",width:n,className:"".concat(c," ").concat(a)},d&&r.a.createElement(d,{visibilities:l,extra:s}))})))))}}]),n}(r.a.Component);n(527);var en=function(){var e=Object(a.useContext)(S.a).PrivateRoute,t=he().isVisible,n=de().length;return r.a.createElement(o.a,null,r.a.createElement(u.a,{fluid:!0,className:"App"},r.a.createElement(w,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,null),r.a.createElement(z,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/"},r.a.createElement(Ke,null)),r.a.createElement(l.b,{exact:!0,path:"/genres/:slug",component:Mt}),r.a.createElement(l.b,{exact:!0,path:"/series/:slug",component:Dt}),r.a.createElement(l.b,{exact:!0,path:"/artists/:slug",component:Wt}),r.a.createElement(e,{path:"/account"},r.a.createElement(vt,null)),r.a.createElement(e,{path:"/favorites"},r.a.createElement(Pt,null))))),t&&n&&r.a.createElement(Zt,null)),r.a.createElement(H,null),r.a.createElement(nt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tn=n(65),nn=function(e){var t=e.children;Re.a.init();var n=Object(v.c)();return Object(a.useEffect)((function(){return Re.a.auth().onAuthStateChanged((function(e){n(Object(tn.a)(e))}))}),[n]),r.a.createElement(r.a.Fragment,null,t)},an=Object(a.createContext)({}),rn=function(e){var t,i=e.children,c=Object(a.useState)(!1),o=Object(s.a)(c,2),l=o[0],u=o[1],d=Object(a.useState)(),m=Object(s.a)(d,2),f=m[0],p=m[1],b=Object(a.useState)(),v=Object(s.a)(b,2),g=v[0],h=v[1];return t=f&&n(528)("./".concat(f)).default,r.a.createElement(an.Provider,{value:{get:function(e){return{open:function(t){p(e),u(!0),h(t)},close:function(){return u(!1)}}}}},!!t&&l&&r.a.createElement(t,Object.assign({},g,{visibility:l,close:function(){return u(!1)}})),i)},cn=n(112),on=n(95),ln=n(84),un=function(){var e=Object(v.c)(),t=Object(v.d)((function(e){return e})),n=t.series.loaded,r=t.genres.loaded,i=t.artists.loaded,c=t.auth.user;return Object(a.useEffect)((function(){_e("load app dependencies"),e(function(){var e=Object(Pe.a)(Ie.a.mark((function e(t){var n,a,r,i,c;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Object(cn.c)()),n=Re.a.db.collection("series"),e.next=5,n.get();case 5:a=e.sent,r=a.docs,i=void 0===r?[]:r,t(Object(cn.b)(Me(i))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),c=e.t0.message,t(Object(cn.d)(c));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(Pe.a)(Ie.a.mark((function e(t){var n,a,r,i,c;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Object(on.d)()),n=Re.a.db.collection("genres").where("isActive","==",!0),e.next=5,n.get();case 5:a=e.sent,r=a.docs,i=Me(void 0===r?[]:r),t(Object(on.c)(i)),t(Object(on.b)(i)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),c=e.t0.message,t(Object(on.e)(c));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(Pe.a)(Ie.a.mark((function e(t){var n,a,r,i,c;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Object(ln.c)()),n=Re.a.db.collection("artists"),e.next=5,n.orderBy("lastMixCreatedAt","desc").get();case 5:a=e.sent,r=a.docs,i=Me(void 0===r?[]:r),t(Object(ln.b)(i)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),c=e.t0.message,t(Object(ln.d)(c));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(a.useEffect)((function(){i&&ze("load app dependencies")}),[i,n,r]),Object(a.useEffect)((function(){c&&e(Object(Ne.b)(c.uid))}),[c,e]),null},sn=ve.onLoadStart,dn=ve.onLoadedData,mn=ve.onPause,fn=ve.onPlay,pn=ve.onPlaying,bn=ve.onError,vn=ve.onWaiting,gn=ve.onAbort,hn=Fe.a.dispatch,En=function(e){Object(Vt.a)(n,e);var t=Object(Gt.a)(n);function n(){var e;Object(me.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onLoadStart$=void 0,e.onLoadedData$=void 0,e.onPlay$=void 0,e.onPause$=void 0,e.onPlaying$=void 0,e.onWaiting$=void 0,e.onError$=void 0,e.onAbort$=void 0,e.onLoadStartHandler=function(){console.log("load start")},e.onLoadedDataHandler=function(){hn(Object(ue.a)()),e.props.isSilent||ve.play()},e.onPauseHandler=function(){hn(Object(ue.f)()),console.log("pause")},e.onPlayingHandler=function(){console.log("playing"),hn(Object(ue.h)())},e.onPlayHandler=function(){hn(Object(ue.g)()),console.log("play")},e.onErrorHandler=function(e){hn(Object(ue.c)()),console.log("error",e)},e.onAbortHandler=function(e){console.log("abort",e)},e.onWaitingHandler=function(){console.log("waiting"),hn(Object(ue.i)())},e.render=function(){return null},e}return Object(fe.a)(n,[{key:"componentWillUnmount",value:function(){var e,t,n,a,r,i,c,o;null===(e=this.onLoadStart$)||void 0===e||e.unsubscribe(),null===(t=this.onLoadedData$)||void 0===t||t.unsubscribe(),null===(n=this.onPlay$)||void 0===n||n.unsubscribe(),null===(a=this.onPause$)||void 0===a||a.unsubscribe(),null===(r=this.onPlaying$)||void 0===r||r.unsubscribe(),null===(i=this.onWaiting$)||void 0===i||i.unsubscribe(),null===(c=this.onError$)||void 0===c||c.unsubscribe(),null===(o=this.onAbort$)||void 0===o||o.unsubscribe()}},{key:"componentDidMount",value:function(){var e=this.props.historyLength;this.setEvents(),e&&this.setHistory()}},{key:"componentDidUpdate",value:function(e){var t=e.historyLength,n=e.historyPointer,a=this.props,r=a.historyLength,i=a.historyPointer;r===t&&i===n||this.saveHistory()}},{key:"setEvents",value:function(){this.onLoadStart$=sn.subscribe(this.onLoadStartHandler),this.onLoadedData$=dn.subscribe(this.onLoadedDataHandler),this.onWaiting$=vn.subscribe(this.onWaitingHandler),this.onPause$=mn.subscribe(this.onPauseHandler),this.onPlay$=fn.subscribe(this.onPlayHandler),this.onPlaying$=pn.subscribe(this.onPlayingHandler),this.onError$=bn.subscribe(this.onErrorHandler),this.onAbort$=gn.subscribe(this.onAbortHandler)}},{key:"saveHistory",value:function(){var e=this.props,t=e.historyPointer,n=e.history,a=void 0===n?[]:n,r=Object(T.a)("HISTORY"),i=r.storageKey,c=r.lastMixStorageKey;sessionStorage.setItem(i,JSON.stringify(a)),sessionStorage.setItem(c,String(t))}},{key:"setHistory",value:function(){var e=this.props,t=e.historyPointer,n=e.history,a=void 0===n?[]:n,r=a[null!==t&&void 0!==t?t:a.length-1];hn(Object(ue.d)(r))}}]),n}(r.a.Component),On=Object(v.b)((function(e){return{historyLength:e.playerHistory.length,history:e.playerHistory.history,historyPointer:e.playerHistory.pointer,isSilent:e.mainPlayer.isSilent,isPaused:e.mainPlayer.isPaused}}))(En);c.a.render(r.a.createElement(v.a,{store:Fe.a},r.a.createElement(nn,null,r.a.createElement(S.b,null,r.a.createElement(rn,null,r.a.createElement(en,null),r.a.createElement(un,null),r.a.createElement(On,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return d}));var a=n(17),r=n(81),i=Object(a.b)({name:"genreDetail",initialState:{pending:!1,loaded:!1,error:null,lastPartCount:0,mixes:[]},reducers:r.a}),c=i.actions,o=i.reducer,l=c.pending,u=c.fulfilled,s=c.fulfilledAppend,d=c.rejected;c.reset;t.a=o},54:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return d}));var a=n(17),r=n(81),i=Object(a.b)({name:"favouriteList",initialState:{pending:!1,loaded:!1,error:null,lastPartCount:0,mixes:[]},reducers:r.a}),c=i.actions,o=i.reducer,l=c.pending,u=c.fulfilled,s=c.fulfilledAppend,d=c.rejected;c.reset;t.a=o},55:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return b}));var a=n(17),r=Object(a.b)({name:"userFavourites",initialState:{pending:!1,loaded:!1,error:null,ids:[]},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e,t){e.ids=t.payload,e.pending=!1,e.loaded=!0},rejected:function(e,t){e.error=t.payload,e.pending=!1},addPending:function(e){e.pending=!0},addFulfilled:function(e,t){e.pending=!1;var n=t.payload;!e.ids.includes(n)&&e.ids.push(n)},addRejected:function(e,t){e.pending=!1,e.error=t.payload},removePending:function(e){e.pending=!0},removeFulfilled:function(e,t){e.pending=!1;var n=t.payload,a=e.ids.findIndex((function(e){return e===n}));-1!==a&&e.ids.splice(a,1)},removeRejected:function(e,t){e.pending=!1,e.error=t.payload}}}),i=r.actions,c=r.reducer,o=i.pending,l=i.fulfilled,u=i.rejected,s=i.addFulfilled,d=i.addPending,m=i.addRejected,f=i.removeFulfilled,p=i.removePending,b=i.removeRejected;t.d=c},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return E}));var a=n(9),r=n.n(a),i=n(22),c=n(21),o=n(17),l=n(24),u=n(65),s={pending:!1,profile:null},d=Object(o.b)({name:"profile",initialState:s,reducers:{pending:function(e){e.pending=!0,e.success=!1,e.error=null},fulfilled:function(e,t){e.profile=t.payload,e.pending=!1,e.error=null},success:function(e){e.success=!0},rejected:function(e,t){e.pending=!1,e.error=t.payload},reset:function(){return s}}}),m=function(){return function(e){try{e(v()),e(g(l.a.auth().currentUser))}catch(t){e(h(Object(c.a)({},t)))}}},f=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,c,o,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(v()),a=e.displayName,i=e.photoUrl,c=l.a.auth().currentUser,t.next=6,null===c||void 0===c?void 0:c.updateProfile({displayName:a,photoURL:i});case 6:return t.next=8,null===c||void 0===c?void 0:c.reload();case 8:o=l.a.currentUser,n(O()),n(g(o)),n(Object(u.c)(o)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),s=t.t0.message,n(h(s));case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},p=d.actions,b=d.reducer,v=p.pending,g=p.fulfilled,h=p.rejected,E=p.reset,O=p.success;t.a=b},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));var a=n(9),r=n.n(a),i=n(22),c=n(17),o=Object(c.b)({name:"auth",initialState:{pending:!1,user:null},reducers:{update:function(e,t){e.user=t.payload}}}),l=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(d(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=o.actions,s=o.reducer,d=u.update;t.b=s},71:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s}));var a=n(21),r=n(17),i={messages:[]},c=Object(r.b)({name:"toast",initialState:i,reducers:{publish:function(e,t){var n=e.messages.length,r=t.payload.key,i=void 0===r?n:r;e.messages.push(Object(a.a)({},t.payload,{key:i}))},remove:function(e,t){var n=e.messages,a=t.payload;e.messages=n.filter((function(e){return e.key!==a}))},reset:function(){return i}}}),o=c.actions,l=c.reducer,u=o.publish,s=o.remove;o.reset;t.a=l},72:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return d}));var a=n(17),r=n(166),i=Object(a.b)({name:"recentlyAddedMixes",initialState:{pending:!1,loaded:!1,normalized:!1,error:null,mixes:[]},reducers:r.a}),c=i.actions,o=i.reducer,l=c.pending,u=c.fulfilled,s=c.normalized,d=c.rejected;t.a=o},81:function(e,t,n){"use strict";var a=n(34),r={pending:function(e){e.pending=!0},fulfilled:function(e,t){e.mixes=t.payload,e.lastPartCount=t.payload.length,e.pending=!1,e.loaded=!0},fulfilledAppend:function(e,t){e.mixes=[].concat(Object(a.a)(e.mixes),Object(a.a)(t.payload)),e.lastPartCount=t.payload.length,e.pending=!1,e.loaded=!0},rejected:function(e,t){e.error=t.payload,e.pending=!1},reset:function(e){e.mixes=[]}};t.a=r},84:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u}));var a=n(17),r=Object(a.b)({name:"artists",initialState:{pending:!1,loaded:!1,error:null,artists:[]},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e,t){e.artists=t.payload,e.pending=!1,e.loaded=!0},rejected:function(e,t){e.error=t.payload,e.pending=!1}}}),i=r.actions,c=r.reducer,o=i.pending,l=i.fulfilled,u=i.rejected;t.a=c},94:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f}));var a=n(9),r=n.n(a),i=n(22),c=n(24),o=n(55),l=n(45),u=n(29),s=Object(u.b)("USER").FAVOURITES,d=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,l,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Object(o.f)()),a=c.a.db.collection("users").doc(e),t.next=5,a.get();case 5:i=t.sent.data(),l=i.favourites,u=void 0===l?[]:l,n(Object(o.e)(u)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n(Object(o.g)(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t){return function(){var n=Object(i.a)(r.a.mark((function n(a){var i,u,d,m;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(Object(o.b)()),i=c.a.db.collection("users").doc(e),n.next=5,i.get();case 5:return u=n.sent.data(),d=u.favourites,(m=void 0===d?[]:d).includes(t)||m.push(t),n.next=11,i.update({favourites:m});case 11:a(Object(o.a)(t)),l.b(s.ADDED),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),l.a(n.t0.message),a(Object(o.c)(n.t0));case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e,t){return function(){var n=Object(i.a)(r.a.mark((function n(a){var i,u,d,m,f;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(Object(o.i)()),i=c.a.db.collection("users").doc(e),n.next=5,i.get();case 5:return u=n.sent.data(),d=u.favourites,-1!==(f=(m=void 0===d?[]:d).findIndex((function(e){return e===t})))&&m.splice(f,1),n.next=12,i.update({favourites:m});case 12:a(Object(o.h)(t)),l.b(s.REMOVED),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(0),l.a(n.t0.message),a(Object(o.j)(n.t0));case 20:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e){return n.apply(this,arguments)}}()}},95:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return s}));var a=n(17),r=Object(a.b)({name:"genres",initialState:{pending:!1,loaded:!1,error:null,genres:[],featuredGenres:[]},reducers:{pending:function(e){e.pending=!0},fulfilled:function(e,t){e.genres=t.payload,e.pending=!1,e.loaded=!0},featuredFulfilled:function(e,t){e.featuredGenres=t.payload.filter((function(e){return e.featured})),e.loaded=!0},rejected:function(e,t){e.error=t.payload,e.pending=!1}}}),i=r.actions,c=r.reducer,o=i.pending,l=i.fulfilled,u=i.featuredFulfilled,s=i.rejected;t.a=c}},[[331,1,2]]]);
//# sourceMappingURL=main.be4db95b.chunk.js.map