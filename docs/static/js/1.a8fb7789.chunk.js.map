{"version":3,"sources":["pages/series/DetailPage.tsx","hocs/series/DetailHoc.tsx"],"names":["SeriesDetail","_super","props","_this","call","this","state","currentSeries","__WEBPACK_IMPORTED_MODULE_0_tslib__","prototype","componentDidCatch","e","console","error","componentDidUpdate","prevProps","Object","__WEBPACK_IMPORTED_MODULE_11_lodash__","match","params","getData","componentDidMount","render","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_4__layouts_Sidebar__","__WEBPACK_IMPORTED_MODULE_5_semantic_ui_react__","style","height","className","as","name","mixes","__WEBPACK_IMPORTED_MODULE_10__music_components_MixBox__","data","slice","series","find","__WEBPACK_IMPORTED_MODULE_8__music_models_mix__","getMixesBySeries","id","then","res","docs","map","__WEBPACK_IMPORTED_MODULE_9__music_utils__","setState","catch","SeriesDetailPage","__WEBPACK_IMPORTED_MODULE_3_react_router_dom__","__WEBPACK_IMPORTED_MODULE_2_react_redux__","__WEBPACK_IMPORTED_MODULE_7__music_extensions_entity_collection__","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_6__music_hocs_series_DetailHoc__","WrappedComponent","class_1","collections","isFetching"],"mappings":"uNAwBAA,UAAA,SAAAC,GAKE,SAAAD,EAAYE,GAAZ,IAAAC,EACEF,EAAAG,KAAAC,KAAMH,IAAMG,YALPF,EAAAG,OACLC,oBA6CJ,OA/C2BC,EAAA,EAAAR,EAAAC,GASlBD,EAAAS,UAAAC,kBAAP,SAAyBC,GACvBC,QAAQC,MAAMF,IAGTX,EAAAS,UAAAK,mBAAP,SAA0BC,GAClBC,OAAAC,EAAA,QAAAD,CAAQX,KAAKH,MAAMgB,MAAMC,OAAQJ,EAAUG,MAAMC,SACrDd,KAAKe,WAIFpB,EAAAS,UAAAY,kBAAP,WACEhB,KAAKe,WAGApB,EAAAS,UAAAa,OAAP,WACE,OACEC,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACC,EAAA,EAAgB,KACfD,EAAA,cAACE,EAAA,GAAQC,OAAQC,OAAQ,QAASC,UAAU,uBAC1CL,EAAA,cAACE,EAAA,GAAOI,GAAG,MAAMxB,KAAKC,MAAMC,cAAcuB,MACzCzB,KAAKC,MAAMyB,OACVR,EAAA,cAACS,EAAA,GAAOC,KAAU5B,KAAKC,MAAMyB,MAAKG,cAQtClC,EAAAS,UAAAW,QAAR,eAAAjB,EAAAE,KACUyB,EAAAzB,KAAAH,MAAAgB,MAAAC,OAAAW,KACFvB,EAAgBF,KAAKH,MAAMiC,OAAOC,KAAKN,EAAM,QAEnDO,EAAA,EAAIC,iBAAiB/B,EAAcgC,IAAIC,KAAK,SAACC,GAC3C,IAAMV,EAAQU,EAAIC,KAAKC,IAAIC,EAAA,GAC3BzC,EAAK0C,UAAUd,MAAKA,EAAExB,cAAaA,MAClCuC,MAAMlC,QAAQC,QAErBb,EA/CA,CAA2BuB,EAAA,YA+DrBwB,EAAmB/B,OAAAgC,EAAA,EAAAhC,CAAWA,OAAAiC,EAAA,EAAAjC,CANZ,SAACV,GACvB,OACE6B,OAAQ,IAAIe,EAAA,EAAiB5C,EAAM6B,OAAOF,QAIVjB,CAAyBhB,IAE9CmD,EAAA,QAAAnC,OAAAoC,EAAA,GAAgBL,0CCvFhB,SAAyBM,GACtC,gBAAApD,GACE,SAAAqD,EAAYpD,GAAZ,IAAAC,EACEF,EAAAG,KAAAC,KAAMH,IAAMG,YACZF,EAAKG,OACHiD,eACAC,YAAY,KAalB,OAlBqBhD,EAAA,EAAA8C,EAAArD,GASNqD,EAAA7C,UAAAY,kBAAb,+FAIOiC,EAAA7C,UAAAa,OAAP,WACE,OACEC,EAAA,cAAC8B,EAAgB,OAGvBC,EAlBA,CAAqB/B,EAAA","file":"static/js/1.a8fb7789.chunk.js","sourcesContent":["import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport SidebarComponent from '../../layouts/Sidebar';\nimport { Segment, Header } from 'semantic-ui-react';\nimport SeriesDetailHoc from '@music/hocs/series/DetailHoc';\nimport { IRouteProps, IState, ISeries, IMix } from '@music/interfaces';\nimport EntityCollection from '@music/extensions/entity-collection';\nimport mix from '@music/models/mix';\nimport { firestore } from 'firebase';\nimport { moveIdToDoc } from '@music/utils';\nimport MixBox from '@music/components/MixBox';\nimport { isEqual } from 'lodash';\n\ninterface ISeriesState {\n  currentSeries: ISeries;\n  mixes?: IMix[];\n}\n\ninterface ISeriesDetailProps extends IRouteProps {\n  series: EntityCollection;\n}\n\n\nclass SeriesDetail extends React.Component<ISeriesDetailProps, any> {\n  public state: Readonly<ISeriesState> = {\n    currentSeries: {} as ISeries,\n  };\n\n  constructor(props: ISeriesDetailProps) {\n    super(props);\n  }\n\n  public componentDidCatch(e: any) {\n    console.error(e);\n  }\n\n  public componentDidUpdate(prevProps: ISeriesDetailProps) {\n    if (! isEqual(this.props.match.params, prevProps.match.params)) {\n      this.getData();\n    }\n  }\n\n  public componentDidMount() {\n    this.getData();\n  }\n\n  public render() {\n    return (\n      <>\n        <SidebarComponent>\n          <Segment style={{height: 'auto'}} className=\"toptracks-container\">\n            <Header as='h1'>{this.state.currentSeries.name}</Header>\n            {this.state.mixes &&\n              <MixBox data={[...this.state.mixes]} />\n            }\n          </Segment>\n        </SidebarComponent>\n      </>\n    );\n  }\n\n  private getData() {\n    const { name } = this.props.match.params;\n    const currentSeries = this.props.series.find(name, 'slug') as ISeries;\n\n    mix.getMixesBySeries(currentSeries.id).then((res: firestore.QuerySnapshot) => {\n      const mixes = res.docs.map(moveIdToDoc);\n      this.setState({mixes, currentSeries});\n    }).catch(console.error);\n  }\n}\n\n// const mapDispatchToProps = (dispatch: CallableFunction) => {\n//   return {\n//     closeModal: (domain: string) => dispatch(closeModalAction(domain)),\n//     saveFormData: (data: IAdvertisementFormData) => dispatch(saveAdFormData(data)),\n//     setNextStep: (step: string) => dispatch(setNextStepAction(step)),\n//   }\n// };\n\nconst mapStateToProps = (state: IState) => {\n  return {\n    series: new EntityCollection(state.series.data),\n  }\n};\n\nconst SeriesDetailPage = withRouter(connect(mapStateToProps)(SeriesDetail) as any);\n\nexport default SeriesDetailHoc(SeriesDetailPage);\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/series/DetailPage.tsx","import * as React from 'react';\n\nexport default function SeriesDetailHoc(WrappedComponent: any) {\n  return class extends React.Component<any, any> {\n    constructor(props: any) {\n      super(props);\n      this.state = {\n        collections: {},\n        isFetching: true,\n      };\n    }\n\n    public async componentDidMount() {\n\n    }\n\n    public render() {\n      return (\n        <WrappedComponent />\n      );\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hocs/series/DetailHoc.tsx"],"sourceRoot":""}