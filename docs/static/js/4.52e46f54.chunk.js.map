{"version":3,"sources":["pages/mix/DetailPage.tsx","hocs/mix/DetailHoc.tsx"],"names":["MixDetail","_super","props","_this","call","this","state","currentSeries","mix","__WEBPACK_IMPORTED_MODULE_0_tslib__","Object","defineProperty","prototype","__WEBPACK_IMPORTED_MODULE_7__music_extensions_entity_collection__","container","componentDidMount","_a","match","params","slug","count","series","find","where","seriesId","id","first","setState","componentDidUpdate","parseInt","__WEBPACK_IMPORTED_MODULE_8_lodash__","render","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_4__layouts_Sidebar__","__WEBPACK_IMPORTED_MODULE_5_semantic_ui_react__","style","height","className","as","name","description","basic","Header","Row","HeaderCell","width","Body","cues","map","cue","key","trackId","Cell","orderNumber","__WEBPACK_IMPORTED_MODULE_9__music_utils__","MixDetailPage","__WEBPACK_IMPORTED_MODULE_3_react_router_dom__","__WEBPACK_IMPORTED_MODULE_2_react_redux__","data","mixContainer","slice","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_6__music_hocs_mix_DetailHoc__","WrappedComponent","class_1","collections","isFetching"],"mappings":"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","file":"static/js/4.52e46f54.chunk.js","sourcesContent":["import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport SidebarComponent from '../../layouts/Sidebar';\nimport { Segment, Header, Container, Table } from 'semantic-ui-react';\nimport MixDetailHoc from '@music/hocs/mix/DetailHoc';\nimport { IState, IKeyValueObject, ISeries, IMix } from '@music/interfaces';\nimport EntityCollection from '@music/extensions/entity-collection';\nimport { isEqual } from 'lodash';\nimport { get } from '@music/utils';\n\n\ntype MixDetailFullProps = IMixDetailProps & RouteComponentProps;\n\ninterface IMixDetailProps {\n  series: EntityCollection;\n  container: IKeyValueObject[];\n}\n\ninterface IMixDetailState {\n  currentSeries: ISeries|null|undefined;\n  mix: IMix|null;\n}\n\nclass MixDetail extends React.Component<MixDetailFullProps, IMixDetailState> {\n  public state: Readonly<IMixDetailState> = {\n    currentSeries: null,\n    mix: null\n  };\n\n  constructor(props: MixDetailFullProps) {\n    super(props);\n  }\n\n  get container(): EntityCollection {\n    return new EntityCollection(this.props.container);\n  }\n\n  get mix (): IMix|null {\n    return this.state.mix;\n  }\n\n  public componentDidMount() {\n    const { slug, count } = this.props.match.params as IKeyValueObject;\n    const currentSeries = this.props.series.find(slug, 'slug') as ISeries;\n    const mix = this.container.where({seriesId: currentSeries.id, count}).first() as IMix;\n    this.setState({ currentSeries, mix: {...mix} });\n  }\n\n  public componentDidUpdate() {\n    const { count } = this.props.match.params as IKeyValueObject;\n    const series = this.state.currentSeries || {} as IMix;\n    const mix = this.container.where({seriesId: series.id, count: parseInt(count)}).first() as IMix;\n\n    if (!isEqual(this.state.mix, mix)) {\n      this.setState({mix});\n    }\n  }\n\n  public render() {\n    return !this.state.currentSeries  ? null : (\n      <>\n        <SidebarComponent>\n          <Segment style={{height: '600px'}} className=\"toptracks-container\">\n            <Header as=\"h1\">{this.state.currentSeries.name}</Header>\n            {this.mix && <Header as=\"h3\">{this.mix.description}</Header>}\n          </Segment>\n          <Container>\n          <Table basic='very'>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell width=\"1\">Order</Table.HeaderCell>\n                <Table.HeaderCell>Track Name</Table.HeaderCell>\n                <Table.HeaderCell>Cue</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            <Table.Body>\n              {(!!this.mix && this.mix.cues) &&\n                <>\n                  {this.mix.cues.map(cue => (\n                    <Table.Row key={cue.trackId}>\n                      <Table.Cell>{cue.orderNumber}</Table.Cell>\n                      <Table.Cell>{get('track.name', cue)}</Table.Cell>\n                      <Table.Cell>-</Table.Cell>\n                    </Table.Row>\n                  ))}\n                </>\n              }\n            </Table.Body>\n          </Table>\n          </Container>\n        </SidebarComponent>\n      </>\n    );\n  }\n}\n\n// const mapDispatchToProps = (dispatch: CallableFunction) => {\n//   return {\n//     closeModal: (domain: string) => dispatch(closeModalAction(domain)),\n//     saveFormData: (data: IAdvertisementFormData) => dispatch(saveAdFormData(data)),\n//     setNextStep: (step: string) => dispatch(setNextStepAction(step)),\n//   }\n// };\n\nconst mapStateToProps = (state: IState) => {\n  return {\n    series: new EntityCollection(state.series.data),\n    container: [...state.mixContainer.data]\n  }\n};\n\nconst MixDetailPage = withRouter(connect(mapStateToProps)(MixDetail) as any);\n\nexport default MixDetailHoc(MixDetailPage);\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mix/DetailPage.tsx","import * as React from 'react';\n\nexport default function MixDetailHoc(WrappedComponent: any) {\n  return class extends React.Component<any, any> {\n    constructor(props: any) {\n      super(props);\n      this.state = {\n        collections: {},\n        isFetching: true,\n      };\n    }\n\n    public async componentDidMount() {\n\n    }\n\n    public render() {\n      return (\n        <WrappedComponent />\n      );\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hocs/mix/DetailHoc.tsx"],"sourceRoot":""}